<div class="spin show-spinner" *ngIf="loader"></div>
<div class="closeWindow">
    <i *ngIf="dialogOpen" class="material-icons icon" (click)="goToDashboard()" title=" Close Window">close</i>
</div>
<div class="container">
    <div class="form-wrapper">
        <div class="heading-section ng-star-inserted">
            <div>Employee Creation</div>
        </div>
        <div class="panel-group">
            <mat-tab-group mat-stretch-tabs class="standing-est-tabing" [selectedIndex]="selectedIndex"
                (selectedIndexChange)="onTabChange($event)">
                <mat-tab [disabled]="isTabDisabled">
                    <ng-template mat-tab-label>
                        Personal Details
                    </ng-template>
                    <form [formGroup]="createEmployeeForm" autocomplete="off">
                        <div class="box box-primary">
                            <div class="box-header">
                                <div style="display: inline-block; width:80%;"> Personal Detail</div>
                                <div *ngIf = 'approvedStatus' style="display: inline-block; width:20%; text-align: right; cursor: pointer;"><mat-icon (click)="openHistoryDialog('Personal Detail', 'PERSONAL_DETAIL')" matSuffix>info</mat-icon></div>   
                            </div>
                            <div class="box-body">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <mat-form-field class="example-full-width">
                                            <input matInput placeholder="Office Name" formControlName="officeName"
                                                readonly>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" maxlength="14" numbersOnly  readonly placeholder="Case No." autocomplete="off" formControlName="caseNo">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" numbersOnly placeholder="Employee Number"
                                                formControlName="employeeCode" readonly>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="salutation" placeholder="Salutation"
                                                [title]="getTitleName(createEmployeeForm, salutationList, 'salutation', 'lookupInfoId', 'lookupInfoName')" [disabled]="ddoEditable && !adminEditable">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="salutationCtrl"
                                                        [placeholderLabel]="'Find Salutation...'"
                                                        [noEntriesFoundLabel]="'no matching Salutation found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="salutation.lookupInfoName"
                                                    *ngFor="let salutation of salutationList | filterSelectInput: salutationCtrl.value: 'lookupInfoName'"
                                                    [value]="salutation.lookupInfoId">
                                                    {{salutation.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [control]="createEmployeeForm.get('salutation')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" placeholder="Employee Name"
                                                formControlName="employeeName" alphabetWithSpaceOnly uppercase
                                                maxlength="50" required [readonly]="ddoEditable && !adminEditable">
                                            <error-messages [errorMessages]="{'required': errorMessages.EMPLOYEE_NAME}"
                                                [control]="createEmployeeForm.get('employeeName')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" placeholder="Middle/Father/Husband Name" alphabetWithSpaceOnly maxlength="50" formControlName="employeeMiddleName" uppercase [readonly]="ddoEditable && !adminEditable">
                                            <error-messages [control]="createEmployeeForm.get('employeeMiddleName')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" placeholder="Surname/Last Name" maxlength="50" alphabetWithSpaceOnly formControlName="employeeSurname" uppercase [readonly]="ddoEditable && !adminEditable">
                                            <error-messages [control]="createEmployeeForm.get('employeeSurname')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="gender" placeholder="Gender"
                                                [title]="getTitleName(createEmployeeForm, genderList, 'gender', 'lookupInfoId', 'lookupInfoName')"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="genderCtrl"
                                                        [placeholderLabel]="'Find Gender...'"
                                                        [noEntriesFoundLabel]="'no matching Gender found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="gender.lookupInfoName"
                                                    *ngFor="let gender of genderList | filterSelectInput: genderCtrl.value:'lookupInfoName'"
                                                    [value]="gender.lookupInfoId">
                                                    {{gender.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.GENDER}"
                                                [control]="createEmployeeForm.get('gender')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="nationality" placeholder="Nationality"
                                                (selectionChange)="onNationChange()"
                                                [title]="getTitleName(createEmployeeForm, nationalityList, 'nationality', 'lookupInfoId', 'lookupInfoName')"
                                                required >
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="nationalityCtrl"
                                                        [placeholderLabel]="'Find Nationality...'"
                                                        [noEntriesFoundLabel]="'no matching Nationality found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="nationality.lookupInfoName"
                                                    *ngFor="let nationality of nationalityList | filterSelectInput: nationalityCtrl.value : 'lookupInfoName'"
                                                    [value]="nationality.lookupInfoId">
                                                    {{nationality.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.NATIONALITY}"
                                                [control]="createEmployeeForm.get('nationality')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput formControlName="dateOfBirth" [matDatepicker]="dateOfBirth" [min]="minDob" [max]="defaultDob" placeholder="Date of Birth" required readonly (dateChange)="dobOnChange($event)" [disabled]="ddoEditable && !adminEditable">
                                            <mat-datepicker-toggle matSuffix [for]="dateOfBirth">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker [startAt]="" #dateOfBirth></mat-datepicker>
                                            <error-messages [errorMessages]="{'required': errorMessages.DATE_OF_BIRTH}"
                                                [control]="createEmployeeForm.get('dateOfBirth')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input maxlength="40" matInput type="email" placeholder="Email Id" email formControlName="emailID" minlength="6">
                                            <!-- <error-messages [control]="createEmployeeForm.get('emailID')">
                                            </error-messages> -->
                                            <div class="error-wrapper"
                                                *ngIf="createEmployeeForm.controls.emailID.value && createEmployeeForm.controls.emailID.touched && createEmployeeForm.controls.emailID.errors">
                                                <mat-error
                                                    *ngIf="createEmployeeForm.controls.emailID.errors.pattern && createEmployeeForm.controls.emailID.errors.pattern.requiredPattern">
                                                    Please enter valid email address.
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" maxlength="10" placeholder="Mobile No"
                                                (keypress)="decimalKeyPress($event)" formControlName="mobileNo" [mask]="mobNoMask" [hiddenInput]="true" required>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.EMPLOYEE_MOBILENO}"
                                                [control]="createEmployeeForm.get('mobileNo')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput maxlength="50" type="text" placeholder="Father's Name"
                                                alphabetWithSpaceOnly formControlName="fatherName" uppercase required>
                                            <error-messages [errorMessages]="{'required': errorMessages.FATHERS_NAME}"
                                                [control]="createEmployeeForm.get('fatherName')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" maxlength="50" placeholder="Mother's Name"
                                                alphabetWithSpaceOnly formControlName="motherName" uppercase required>
                                            <error-messages [errorMessages]="{'required': errorMessages.MOTHER_NAME}"
                                                [control]="createEmployeeForm.get('motherName')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="maritalStatus" placeholder="Marital Status"
                                                required (selectionChange)="onMaritalStatusChange()"
                                                [title]="getTitleName(createEmployeeForm, maritalStatusList, 'maritalStatus', 'lookupInfoId', 'lookupInfoName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="maritalStatusCtrl"
                                                        [placeholderLabel]="'Find Marital Status...'"
                                                        [noEntriesFoundLabel]="'no matching Marital Status found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="maritalStatus.lookupInfoName"
                                                    *ngFor="let maritalStatus of maritalStatusList | filterSelectInput: maritalStatusCtrl.value : 'lookupInfoName'"
                                                    [value]="maritalStatus.lookupInfoId">
                                                    {{maritalStatus.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.MARITAL_STATUS}"
                                                [control]="createEmployeeForm.get('maritalStatus')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="category" placeholder="Category"
                                                [title]="getTitleName(createEmployeeForm, categoryList, 'category', 'lookupInfoId', 'lookupInfoName')"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="categoryCtrl"
                                                        [placeholderLabel]="'Find Category...'"
                                                        [noEntriesFoundLabel]="'no matching Category found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="category.lookupInfoName"
                                                    *ngFor="let category of categoryList | filterSelectInput: categoryCtrl.value:'lookupInfoName'"
                                                    [value]="category.lookupInfoId">
                                                    {{category.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.CATEGORY}"
                                                [control]="createEmployeeForm.get('category')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" maxlength="50" placeholder="Religion"
                                                formControlName="religion" alphabetWithSpaceOnly required>
                                            <error-messages [errorMessages]="{'required': errorMessages.RELIGION}"
                                                [control]="createEmployeeForm.get('religion')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" maxlength="50" alphabetWithSpaceOnly placeholder="Caste" formControlName="caste" >
                                            <!-- <error-messages [errorMessages]="{'required': errorMessages.CASTE}" [control]="createEmployeeForm.get('caste')"></error-messages> -->
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="bloodGroup" placeholder="Blood Group"
                                                [title]="getTitleName(createEmployeeForm, bloodGroupList, 'bloodGroup', 'lookupInfoId', 'lookupInfoName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="bloodGroupCtrl"
                                                        [placeholderLabel]="'Find Blood Group...'"
                                                        [noEntriesFoundLabel]="'no matching Blood Group found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="bloodGroup.lookupInfoName"
                                                    *ngFor="let bloodGroup of bloodGroupList | filterSelectInput: bloodGroupCtrl.value : 'lookupInfoName'"
                                                    [value]="bloodGroup.lookupInfoId">
                                                    {{bloodGroup.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="phStatus"
                                                placeholder="Divyang (PH) (Joining Time)"
                                                (selectionChange)="onPhChange()"
                                                [title]="getTitleName(createEmployeeForm, phStatusList, 'phStatus', 'lookupInfoId', 'lookupInfoName')"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="phStatusCtrl"
                                                        [placeholderLabel]="'Find Divyang (PH)...'"
                                                        [noEntriesFoundLabel]="'no matching Divyang (PH) found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="phStatus.lookupInfoName"
                                                    *ngFor="let phStatus of phStatusList | filterSelectInput: phStatusCtrl.value : 'lookupInfoName'"
                                                    [value]="phStatus.lookupInfoId">
                                                    {{phStatus.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.PHSTATUS}"
                                                [control]="createEmployeeForm.get('phStatus')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3" *ngIf="phCategory">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="phType" placeholder="PH Category"
                                                [required]="phCategory"
                                                [title]="getTitleName(createEmployeeForm, phTypeList, 'phType', 'lookupInfoId', 'lookupInfoName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="phTypeCtrl"
                                                        [placeholderLabel]="'Find PH Category...'"
                                                        [noEntriesFoundLabel]="'no matching PH Category found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="phType.lookupInfoName"
                                                    *ngFor="let phType of phTypeList | filterSelectInput: phTypeCtrl.value : 'lookupInfoName'"
                                                    [value]="phType.lookupInfoId">
                                                    {{phType.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.CATEGORY}"
                                                [control]="createEmployeeForm.get('phType')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3" *ngIf="showOtherPHCategory()">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" placeholder="Enter % level of PH"
                                                (keypress)="percentKeyPress($event)" formControlName="otherPhCategory"
                                                [required]="isPhLevelRequired">
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.OTHER_PH_CATEGORY}"
                                                [control]="createEmployeeForm.get('otherPhCategory')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput formControlName="dateOfMedFitnessCert" [matDatepicker]="dateOfMedFitnessCert1" [min]="createEmployeeForm.get('dateOfBirth').value" [max]="today" placeholder="Medical Fitness Certificate Date" readonly class="w-75" [disabled]="ddoEditable && !adminEditable">
                                            <i *ngIf="createEmployeeForm.get('dateOfMedFitnessCert').value && (action !== 'view')"
                                                class="material-icons clear-date"
                                                (click)="clearDate(createEmployeeForm, 'dateOfMedFitnessCert')"
                                                title="Clear Date">close</i>
                                            <mat-datepicker-toggle matSuffix [for]="dateOfMedFitnessCert1">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #dateOfMedFitnessCert1></mat-datepicker>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" maxlength="50" placeholder="Identification Mark" alphabetWithSpaceOnly formControlName="identificationMark" required [readonly]="ddoEditable && !adminEditable">
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.IDENTIFICATION_MARK}"
                                                [control]="createEmployeeForm.get('identificationMark')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" maxlength="3" numbersOnly
                                                placeholder="Height (In Centimeter)" formControlName="height" required [readonly]="ddoEditable && !adminEditable">
                                            <error-messages [errorMessages]="{'required': errorMessages.HEIGHT}"
                                                [control]="createEmployeeForm.get('height')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" maxlength="10"
                                                placeholder="Election Card Number" formControlName="electionCardNo"
                                                (keyup)="convertUppercase($event)">
                                            <error-messages [control]="createEmployeeForm.get('electionCardNo')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="tel" placeholder="Aadhaar Number" formControlName="aadhaarNo" [mask]="addharMask" [hiddenInput]="true">
                                            <error-messages [control]="createEmployeeForm.get('aadhaarNo')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" placeholder="Permanent Account Number (PAN)"
                                                formControlName="panNo" required MaxLength="10" 
                                                [readonly] = "createEmployeeForm.get('employeeCode').value !== '' && savedEmpStatusId !== 327"
                                                (keyup)="convertUppercase($event)" (blur)="checkDuplicatePAN($event)">
                                            <mat-icon *ngIf="!createEmployeeForm.get('panNo').errors && duplicatePanNo"
                                                (click)="redirectViewPanDetail()" matSuffix>info</mat-icon>
                                            <error-messages [errorMessages]="{'required': errorMessages.PAN_NO}"
                                                [control]="createEmployeeForm.get('panNo')"></error-messages>
                                            <div class="error-wrapper"
                                                *ngIf="!createEmployeeForm.get('panNo').errors && duplicatePanNo">
                                                <mat-error>{{errorMessages.DUPLICATE_PAN}}</mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" maxlength="8" (change)="passportExpiryMand()"
                                                placeholder="Passport Number" formControlName="passportNo"
                                                (keyup)="convertUppercase($event)" (blur)="convertUppercase($event)">
                                            <error-messages [control]="createEmployeeForm.get('passportNo')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput formControlName="passportExpiryDate"
                                                [matDatepicker]="passportExpiryDate" [required]="isPassDateRequired"
                                                [min]="createEmployeeForm.get('dateOfBirth').value"
                                                placeholder="Passport Expiry Date" readonly class="w-75">
                                            <i *ngIf="createEmployeeForm.get('passportExpiryDate').value && (action !== 'view') && !isPassDateRequired"
                                                class="material-icons clear-date"
                                                (click)="clearDate(createEmployeeForm, 'passportExpiryDate')"
                                                title="Clear Date">close</i>
                                            <mat-datepicker-toggle matSuffix [for]="passportExpiryDate">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #passportExpiryDate></mat-datepicker>
                                            <error-messages [errorMessages]="{'required': errorMessages.PASSPORT_DATE}"
                                                [control]="createEmployeeForm.get('passportExpiryDate')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" placeholder="Buckle Number (Only for Police)"
                                                maxlength="100" formControlName="buckleNo">
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Current/Correspondence Address -->
                        <div class="box box-primary">
                            <div class="box-header">
                                <div style="display: inline-block; width:80%;"> Current/Correspondence Address</div>
                                <div *ngIf = 'approvedStatus' style="display: inline-block; width:20%; text-align: right; cursor: pointer;"><mat-icon (click)="openHistoryDialog('Address', 'ADDRESS')" matSuffix>info</mat-icon></div>
                            </div>
                            <div class="box-body">
                                <div class="row address">
                                    <div class="col-sm-6">
                                        <mat-form-field class="example-full-width">
                                            <textarea matInput formControlName="curAddress1"
                                                placeholder="Address Line 1" maxlength="200" uppercase required
                                                (blur)="updateFromCurrentAddress()"></textarea>
                                            <error-messages [errorMessages]="{'required': errorMessages.ADDRESS_1}"
                                                [control]="createEmployeeForm.get('curAddress1')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-6">
                                        <mat-form-field class="example-full-width">
                                            <textarea matInput maxlength="200" formControlName="curAddress2"
                                                (blur)="updateFromCurrentAddress()" placeholder="Address Line 2"
                                                uppercase></textarea>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="curState" placeholder="State/UT"
                                                (selectionChange)="getDistricts($event.value,'cur');resetDistTalCity($event.value,'cur');updateFromCurrentAddress()"
                                                [title]="getTitleName(createEmployeeForm, curStateList, 'curState', 'stateId', 'stateName')"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="nStateCtrl"
                                                        [placeholderLabel]="'Find State/UT...'"
                                                        [noEntriesFoundLabel]="'no matching State/UT found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="nState.stateName"
                                                    *ngFor="let nState of curStateList | filterSelectInput: nStateCtrl.value:'stateName'"
                                                    [value]="nState.stateId">
                                                    {{nState.stateName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.STATE}"
                                                [control]="createEmployeeForm.get('curState')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="curDistrict" placeholder="District"
                                                (selectionChange)="getTalukas($event.value,'cur');resetTalCity($event.value,'cur');updateFromCurrentAddress()"
                                                [title]="getTitleName(createEmployeeForm, curDistrictList, 'curDistrict', 'districtId', 'districtName')"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="nDistrictCtrl"
                                                        [placeholderLabel]="'Find District...'"
                                                        [noEntriesFoundLabel]="'no matching District found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="nDistrict.districtName"
                                                    *ngFor="let nDistrict of curDistrictList | filterSelectInput: nDistrictCtrl.value:'districtName'"
                                                    [value]="nDistrict.districtId">
                                                    {{nDistrict.districtName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.DISTRICT}"
                                                [control]="createEmployeeForm.get('curDistrict')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3" *ngIf="!isCurStateNonGujarat">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="curTaluka" placeholder="Taluka"
                                                (selectionChange)="setCityVillage('curCity',$event);updateFromCurrentAddress()"
                                                [title]="getTitleName(createEmployeeForm, curTalukaList, 'curTaluka', 'talukaId', 'talukaName')"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="nTalukaCtrl"
                                                        [placeholderLabel]="'Find Taluka...'"
                                                        [noEntriesFoundLabel]="'no matching Taluka found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="nTaluka.talukaName"
                                                    *ngFor="let nTaluka of curTalukaList | filterSelectInput: nTalukaCtrl.value:'talukaName'"
                                                    [value]="nTaluka.talukaId">
                                                    {{nTaluka.talukaName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.TALUKA}"
                                                [control]="createEmployeeForm.get('curTaluka')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3" *ngIf="isCurStateNonGujarat">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" placeholder="Taluka" formControlName="curOtherTaluka" maxlength="40" (blur)="updateFromCurrentAddress()">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" placeholder="City/ Village"
                                                formControlName="curCity" maxlength="50"
                                                (blur)="updateFromCurrentAddress()" required>
                                            <error-messages [errorMessages]="{'required': errorMessages.CITY_VILLAGE}"
                                                [control]="createEmployeeForm.get('curCity')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" numbersOnly placeholder="Pin Code"
                                                formControlName="curPinCode" maxlength="6"
                                                (blur)="updateFromCurrentAddress()" required>
                                            <error-messages [errorMessages]="{'required': errorMessages.PIN_CODE}"
                                                [control]="createEmployeeForm.get('curPinCode')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="curOfficeDist"
                                                placeholder="Distance from Office (In KM)"
                                                [title]="getTitleName(createEmployeeForm, curOfficeDistList, 'curOfficeDist', 'lookupInfoId', 'lookupInfoName')"
                                                required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="cOfficeDistCtrl"
                                                        [placeholderLabel]="'Find Distance from Office...'"
                                                        [noEntriesFoundLabel]="'no matching Distance from Office found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="cOfficeDist.lookupInfoName"
                                                    *ngFor="let cOfficeDist of curOfficeDistList | filterSelectInput: cOfficeDistCtrl.value:'lookupInfoName'"
                                                    [value]="cOfficeDist.lookupInfoId">
                                                    {{cOfficeDist.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.OFFICE_DISTANCE}"
                                                [control]="createEmployeeForm.get('curOfficeDist')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Permanent Address -->
                        <div class="box box-primary">
                            <div class="box-header">
                                Permanent Address
                                <mat-checkbox (click)="onClick(sameAsCurrentAddr)" [disabled] = "ddoEditable || action == 'view'" value="sameAsCurrentAddr"
                                    formControlName="isPerAddCurAdd" class="change-direction">Same as Current Address
                                </mat-checkbox>
                            </div>
                            <div class="box-body">
                                <div class="row address">
                                    <div class="col-sm-6">
                                        <mat-form-field class="example-full-width">
                                            <textarea matInput formControlName="perAddress1" placeholder="Address Line 1" maxlength="200" (blur)="updateFromPermanentAddress()" uppercase required [disabled] = 'ddoEditable && !adminEditable' [readonly]="ddoEditable && !adminEditable"></textarea>
                                            <error-messages [errorMessages]="{'required': errorMessages.ADDRESS_1}"
                                                [control]="createEmployeeForm.get('perAddress1')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-6">
                                        <mat-form-field class="example-full-width">
                                            <textarea matInput maxlength="200" formControlName="perAddress2"(blur)="updateFromPermanentAddress()" uppercase placeholder="Address Line 2" [disabled] = 'ddoEditable && !adminEditable' [readonly]="ddoEditable && !adminEditable"></textarea>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.EMPLOYEE_SURNAME}"
                                                [control]="createEmployeeForm.get('employeeSurname')"></error-messages>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="perState" placeholder="State/UT"
                                                (selectionChange)="getDistricts($event.value,'per'); resetDistTalCity($event.value,'per');updateFromPermanentAddress()"
                                                [title]="getTitleName(createEmployeeForm, perStateList, 'perState', 'stateId', 'stateName')"
                                                required [disabled]="ddoEditable || action == 'view'">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="pStateCtrl"
                                                        [placeholderLabel]="'Find State/UT...'"
                                                        [noEntriesFoundLabel]="'no matching State/UT found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="pState.stateName"
                                                    *ngFor="let pState of perStateList | filterSelectInput: pStateCtrl.value:'stateName'"
                                                    [value]="pState.stateId">
                                                    {{pState.stateName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.STATE}"
                                                [control]="createEmployeeForm.get('perState')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="perDistrict" placeholder="District"
                                                (selectionChange)="getTalukas($event.value,'per'); resetTalCity($event.value,'per');updateFromPermanentAddress()"
                                                [title]="getTitleName(createEmployeeForm, perDistrictList, 'perDistrict', 'districtId', 'districtName')"
                                                required [disabled]="ddoEditable || action == 'view'">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="pDistrictCtrl"
                                                        [placeholderLabel]="'Find District...'"
                                                        [noEntriesFoundLabel]="'no matching District found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="pDistrict.districtName"
                                                    *ngFor="let pDistrict of perDistrictList | filterSelectInput: pDistrictCtrl.value : 'districtName'"
                                                    [value]="pDistrict.districtId">
                                                    {{pDistrict.districtName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.DISTRICT}"
                                                [control]="createEmployeeForm.get('perDistrict')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3" *ngIf="!isPerStateNonGujarat">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="perTaluka" placeholder="Taluka"
                                                (selectionChange)="setCityVillage('perCity',$event);updateFromPermanentAddress()"
                                                [title]="getTitleName(createEmployeeForm, perTalukaList, 'perTaluka', 'talukaId', 'talukaName')"
                                                required [disabled]="ddoEditable && !adminEditable">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="pTalukaCtrl"
                                                        [placeholderLabel]="'Find Taluka...'"
                                                        [noEntriesFoundLabel]="'no matching Taluka found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="pTaluka.talukaName"
                                                    *ngFor="let pTaluka of perTalukaList | filterSelectInput: pTalukaCtrl.value:'talukaName'"
                                                    [value]="pTaluka.talukaId">
                                                    {{pTaluka.talukaName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.TALUKA}"
                                                [control]="createEmployeeForm.get('perTaluka')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3" *ngIf="isPerStateNonGujarat">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" placeholder="Taluka" formControlName="perOtherTaluka" maxlength="40" (blur)="updateFromPermanentAddress()" [readonly]="ddoEditable && !adminEditable">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" maxlength="50" placeholder="City/ Village"
                                                (blur)="updateFromPermanentAddress()" formControlName="perCity"
                                                required [readonly]="ddoEditable && !adminEditable">
                                            <error-messages [errorMessages]="{'required': errorMessages.CITY_VILLAGE}"
                                                [control]="createEmployeeForm.get('perCity')"></error-messages>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" maxlength="6" numbersOnly placeholder="Pin Code"
                                                (blur)="updateFromPermanentAddress()" formControlName="perPinCode"
                                                required [readonly]="ddoEditable && !adminEditable">
                                            <error-messages [errorMessages]="{'required': errorMessages.PIN_CODE}"
                                                [control]="createEmployeeForm.get('perPinCode')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Native Palce -->
                        <div class="box box-primary">
                            <div class="box-header">Native Place
                                <span class="change-direction">
                                    <mat-radio-group aria-label="Select an option"
                                        formControlName="isNatAddCurAddPerAdd" (change)="onClickAdd()">
                                        <mat-radio-button [disabled] = "ddoEditable || action == 'view'" value="sameAsCurrentAddr">Same as Current Address
                                        </mat-radio-button>
                                        &nbsp;&nbsp;&nbsp;
                                        <mat-radio-button [disabled] = "ddoEditable || action == 'view'" value="sameAsPermanentAddr">Same as Permanent Address
                                        </mat-radio-button>
                                    </mat-radio-group>

                                </span>
                            </div>
                            <div class="box-body">
                                <div class="row address">
                                    <div class="col-sm-6">
                                        <mat-form-field class="example-full-width">
                                            <textarea matInput formControlName="natAddress1"
                                                placeholder="Address Line 1" maxlength="200" uppercase
                                                required [disabled] = 'ddoEditable && !adminEditable' ></textarea>
                                            <error-messages [errorMessages]="{'required': errorMessages.ADDRESS_1}"
                                                [control]="createEmployeeForm.get('natAddress1')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-6">
                                        <mat-form-field class="example-full-width">
                                            <textarea matInput maxlength="200" formControlName="natAddress2" uppercase
                                                placeholder="Address Line 2" [disabled] = 'ddoEditable && !adminEditable' ></textarea>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="natState" placeholder="State/UT"
                                                (selectionChange)="getDistricts($event.value,'nat');resetDistTalCity($event.value,'nat')"
                                                [title]="getTitleName(createEmployeeForm, natStateList, 'natState', 'stateId', 'stateName')"
                                                required [disabled]="ddoEditable || action == 'view'">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="cStateCtrl"
                                                        [placeholderLabel]="'Find State/UT...'"
                                                        [noEntriesFoundLabel]="'no matching State/UT found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="cState.stateName"
                                                    *ngFor="let cState of natStateList | filterSelectInput: cStateCtrl.value:'stateName'"
                                                    [value]="cState.stateId">
                                                    {{cState.stateName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.STATE}"
                                                [control]="createEmployeeForm.get('natState')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="natDistrict" placeholder="District"
                                                (selectionChange)="getTalukas($event.value,'nat');resetTalCity($event.value,'nat')"
                                                [title]="getTitleName(createEmployeeForm, natDistrictList, 'natDistrict', 'districtId', 'districtName')"
                                                required [disabled]="ddoEditable || action == 'view'">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="cDistrictCtrl"
                                                        [placeholderLabel]="'Find District...'"
                                                        [noEntriesFoundLabel]="'no matching District found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="cDistrict.districtName"
                                                    *ngFor="let cDistrict of natDistrictList | filterSelectInput: cDistrictCtrl.value:'districtName'"
                                                    [value]="cDistrict.districtId">
                                                    {{cDistrict.districtName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.DISTRICT}"
                                                [control]="createEmployeeForm.get('natDistrict')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3" *ngIf="!isNatStateNonGujarat">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="natTaluka" placeholder="Taluka"
                                                (selectionChange)="setCityVillage('natCity',$event)"
                                                [title]="getTitleName(createEmployeeForm, natTalukaList, 'natTaluka', 'talukaId', 'talukaName')"
                                                required [disabled]="ddoEditable && !adminEditable">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="cTalukaCtrl"
                                                        [placeholderLabel]="'Find Taluka...'"
                                                        [noEntriesFoundLabel]="'no matching Taluka found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="taluka.talukaName"
                                                    *ngFor="let taluka of natTalukaList | filterSelectInput: cTalukaCtrl.value : 'talukaName'"
                                                    [value]="taluka.talukaId">
                                                    {{taluka.talukaName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.TALUKA}"
                                                [control]="createEmployeeForm.get('natTaluka')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3" *ngIf="isNatStateNonGujarat">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" placeholder="Taluka" formControlName="natOtherTaluka" maxlength="40" [readonly]="ddoEditable && !adminEditable">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" maxlength="50" placeholder="City/ Village"
                                                formControlName="natCity" required [readonly]="ddoEditable && !adminEditable">
                                            <error-messages [errorMessages]="{'required': errorMessages.CITY_VILLAGE}"
                                                [control]="createEmployeeForm.get('natCity')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" maxlength="6" numbersOnly placeholder="Pin Code"
                                                formControlName="natPinCode" required [readonly]="ddoEditable && !adminEditable">
                                            <error-messages [errorMessages]="{'required': errorMessages.PIN_CODE}"
                                                [control]="createEmployeeForm.get('natPinCode')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                    <div class="box box-primary">
                        <div class="box-header">
                            <div style="display: inline-block; width:80%;"> Nominee Details</div>
                            <div *ngIf = 'approvedStatus' style="display: inline-block; width:20%; text-align: right; cursor: pointer;"><mat-icon (click)="openHistoryDialog('Nominee Details', 'NOMINEE_DETAIL')" matSuffix>info</mat-icon></div>
                        </div>
                        <div class="box-body">
                            <table mat-table [dataSource]="dataSourceNominee" class="nominee-table" width="100%">
                                <ng-container matColumnDef="relationship">
                                    <th mat-header-cell *matHeaderCellDef class="width-100">Relationship <span
                                            class="estric">*</span>
                                    </th>
                                    <td mat-cell *matCellDef="let item;let i = index;" class="width-100">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.relationship && nomineeHighlight">
                                            <mat-select [(ngModel)]="item.relationship" placeholder="Relationship"
                                                (selectionChange)="onRelationshipChange(item)"
                                                [disabled]="action === 'view'"
                                                [title]="getTitleNameDataSorce(relationshipList, item.relationship, 'lookupInfoId', 'lookupInfoName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="getCtrl(relationshipCtrl, i)"
                                                        [placeholderLabel]="'Find relationship...'"
                                                        [noEntriesFoundLabel]="'no matching relationship found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="relationship.lookupInfoName"
                                                    *ngFor="let relationship of relationshipList | filterSelectInput: getCtrl(relationshipCtrl, i).value:'lookupInfoName'"
                                                    [value]="relationship.lookupInfoId">
                                                    {{relationship.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                            <!-- <div class="table-error-wrapper" *ngIf="!item.relationship && nomineeHighlight">
                                                <mat-error title="Please Select Relationship">
                                                    Please Select Relationship Relationship Relationship
                                                </mat-error>
                                            </div> -->
                                        </mat-form-field>
                                        <mat-form-field floatLabel="never" *ngIf="item.isOtherRelation"
                                            [class.highlight]="!item.otherRelationship && nomineeHighlight">
                                            <input matInput [title]="item.otherRelationship" placeholder="Other Nominee"
                                                maxlength="100" [(ngModel)]="item.otherRelationship"
                                                [value]="item.otherRelationship" #otherRelation alphabetWithSpaceOnly
                                                [readonly]="action === 'view'" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="nomineeName">
                                    <th mat-header-cell *matHeaderCellDef class="width-100">Name of Nominee <span
                                            class="estric">*</span></th>
                                    <td mat-cell *matCellDef="let item" class="width-100">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.nomineeName && nomineeHighlight">
                                            <input matInput maxlength="100" [title]="item.nomineeName"
                                                [value]="item.nomineeName" [(ngModel)]="item.nomineeName"
                                                alphabetWithSpaceOnly [readonly]="action === 'view'" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="nomineeAddress">
                                    <th mat-header-cell *matHeaderCellDef class="width-100">Nominee Communication
                                        address<span class="estric">*</span></th>
                                    <td mat-cell *matCellDef="let item" class="width-100">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.nomineeAddress && nomineeHighlight">
                                            <textarea maxlength="400" matInput [value]="item.nomineeAddress"
                                                [(ngModel)]="item.nomineeAddress"
                                                [disabled]="action === 'view'"></textarea>
                                            <!-- <div class="table-error-wrapper" *ngIf="!item.relationship && nomineeHighlight">
                                                <mat-error title="Please Enter Nominee Communication address">
                                                    Please Enter Nominee Communication address
                                                </mat-error>
                                            </div> -->
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="nomineeAge">
                                    <th mat-header-cell *matHeaderCellDef class="width-90">Nominee <br>Age/ Date Of
                                        Birth<span class="estric">*</span></th>
                                    <td mat-cell *matCellDef="let item" class="width-90">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.nomineeAge && nomineeHighlight">
                                            <input matInput [title]="item.nomineeAge" maxlength="15"
                                                [value]="item.nomineeAge" [(ngModel)]="item.nomineeAge"
                                                [readonly]="action === 'view'" autocomplete="off" />
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="nomineeShare">
                                    <th mat-header-cell *matHeaderCellDef class="width-50">% of Share
                                        <span class="estric">*</span>
                                    </th>
                                    <td mat-cell *matCellDef="let item" class="width-50">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.nomineeShare && nomineeHighlight">
                                            <input matInput type="text" maxlength="3" [(ngModel)]="item.nomineeShare"
                                                numbersOnly (keypress)="decimalKeyPress($event)"
                                                (blur)="nomineeShareBlur(item)" [readonly]="action === 'view'"
                                                autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="photoOfNominee">
                                    <th mat-header-cell *matHeaderCellDef class="width-100">Nominee Photo</th>
                                    <td mat-cell *matCellDef="let item;let idx = index;" class="centerAlign width-100">
                                        <div
                                            *ngIf="!item.nomineePhotoName && !(item.photoOfNominee && item.photoOfNominee.name)">
                                            <button type="button" (click)="openFileSelector2(idx)" class="btn-browse"
                                                [disabled]="action === 'view'">
                                                <i class="material-icons">cloud_upload</i> Browse Files
                                            </button>
                                            <input #nomPhoto type="file" id="fileBrowse-nominee"
                                                style="visibility: hidden; width: 1px; display: contents;"
                                                accept="image/png,image/jpeg,image/jpg"
                                                (change)="onNomineePhotoSelection($event, item)" />
                                        </div>
                                        <div *ngIf="item.photoOfNominee && item.photoOfNominee.name">
                                            {{item.photoOfNominee.name}}
                                            <span>
                                                <i class="material-icons closesmall"
                                                    (click)="removeSelectedNomineeFile('PHOTO', item, idx)"
                                                    title="Delete File" aria-hidden="true">close</i>
                                            </span>
                                        </div>
                                        <div *ngIf="item.nomineePhotoName" class="upload-pic-txt mgb5">
                                            <div class="normal-font p-1">{{item.nomineePhotoName}}</div>
                                            <div>
                                                <a
                                                    (click)="downloadAttachFile(item.nomineePhoto, item.nomineePhotoName)">
                                                    <i class="material-icons plus view-icon"
                                                        title="View">remove_red_eye</i>
                                                </a>
                                                <a (click)="deleteNomineeAttachment('PHOTO', item)"
                                                    *ngIf="action !== 'view'" style="padding: 5px;">
                                                    <i class="material-icons plus delete" title="Delete"
                                                        aria-hidden="true">delete_forever</i>
                                                </a>
                                            </div>
                                        </div>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="genNomiForm">
                                    <th mat-header-cell *matHeaderCellDef class="width-100">NPS Nomination Form</th>
                                    <td mat-cell *matCellDef="let item;let idx = index;" class="centerAlign width-100">
                                        <div
                                            *ngIf="!item.genNomineeFormName && !(item.genNomiForm && item.genNomiForm.name)">
                                            <button type="button" (click)="openFileGenForm(idx)" class="btn-browse"
                                                [disabled]="action === 'view'">
                                                <i class="material-icons">cloud_upload</i> Browse Files
                                            </button>
                                            <input #npsNomForm type="file" id="fileBrowse-genform"
                                                style="visibility: hidden; width: 1px; display: contents;"
                                                (change)="onFileGenForm($event, item)"
                                                accept="image/png,image/jpeg,image/jpg,application/pdf," />
                                        </div>
                                        <div *ngIf="item.genNomiForm && item.genNomiForm.name">
                                            {{item.genNomiForm.name}}
                                            <span>
                                                <i class="material-icons closesmall"
                                                    (click)="removeSelectedNomineeFile('GEN', item, idx)"
                                                    title="Delete File" aria-hidden="true">close</i>
                                            </span>
                                        </div>
                                        <div *ngIf="item.genNomineeFormName" class="upload-pic-txt mgb5">
                                            <div class="normal-font p-1">{{item.genNomineeFormName}}</div>
                                            <div>
                                                <a
                                                    (click)="downloadAttachFile(item.genNomineePhoto, item.genNomineeFormName)">
                                                    <i class="material-icons plus view-icon"
                                                        title="View">remove_red_eye</i>
                                                </a>
                                                <a (click)="deleteNomineeAttachment('GEN', item)"
                                                    *ngIf="action !== 'view'" style="padding: 5px;">
                                                    <i class="material-icons plus delete" title="Delete"
                                                        aria-hidden="true">delete_forever</i>
                                                </a>
                                            </div>
                                        </div>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="npsNomiForm">
                                    <th mat-header-cell *matHeaderCellDef class="width-100">Nominee Declared Form <span
                                            class="estric">*</span> </th>
                                    <td mat-cell *matCellDef="let item;let idx = index;" class="centerAlign width-100">
                                        <div
                                            *ngIf="!item.npsNomineeFormName && !(item.npsNomiForm && item.npsNomiForm.name)">
                                            <button type="button" (click)="openFileNpsForm(idx)" class="btn-browse"
                                                [disabled]="action === 'view'">
                                                <i class="material-icons">cloud_upload</i> Browse Files
                                            </button>
                                            <input #nomDeclForm type="file" id="fileBrowse-npsform"
                                                style="visibility: hidden; width: 1px; display: contents;"
                                                (change)="onFileNpsForm($event, item)"
                                                accept="image/png,image/jpeg,image/jpg,application/pdf," />
                                        </div>
                                        <div *ngIf="item.npsNomiForm && item.npsNomiForm.name">
                                            {{item.npsNomiForm.name}}
                                            <span>
                                                <i class="material-icons closesmall"
                                                    (click)="removeSelectedNomineeFile('NPS', item, idx)"
                                                    title="Delete File" aria-hidden="true">close</i>
                                            </span>
                                        </div>
                                        <div *ngIf="item.npsNomineeFormName" class="upload-pic-txt mgb5">
                                            <div class="normal-font p-1">{{item.npsNomineeFormName}}</div>
                                            <div>
                                                <a
                                                    (click)="downloadAttachFile(item.npsNomineePhoto, item.npsNomineeFormName)">
                                                    <i class="material-icons plus view-icon"
                                                        title="View">remove_red_eye</i>
                                                </a>

                                                <a (click)="deleteNomineeAttachment('NPS', item)"
                                                    *ngIf="action !== 'view'" style="padding: 5px;">
                                                    <i class="material-icons plus delete" title="Delete"
                                                        aria-hidden="true">delete_forever</i>
                                                </a>
                                            </div>
                                        </div>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="Action">
                                    <th mat-header-cell *matHeaderCellDef>Action</th>
                                    <td mat-cell *matCellDef="let item; let i = index;">
                                        <table class="iconTable" *ngIf="action !== 'view'">
                                            <tbody>
                                                <tr>
                                                    <td>
                                                        <i class="material-icons plus delete"
                                                            *ngIf="(dataSourceNominee && dataSourceNominee.data && dataSourceNominee.data.length > 1) && action!= 'view'"
                                                            (click)="deleteNominee(item.empNomineeId,i)">
                                                            delete
                                                        </i>
                                                    </td>
                                                    <td width="30">
                                                        <i class="material-icons plus add"
                                                            *ngIf="(dataSourceNominee && dataSourceNominee.data && (i == dataSourceNominee.data.length - 1)) && action!= 'view'"
                                                            (click)="addNominee()">
                                                            add
                                                        </i>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </ng-container>
                                <tr mat-header-row *matHeaderRowDef="displayedNomineeColumns"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedNomineeColumns;"></tr>
                            </table>
                        </div>
                    </div>
                    <div class="box box-primary">
                        <div class="box-header">Upload Photo</div>
                        <div class="box-body">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="doted-border">
                                        <div class="row">
                                            <div class="col-sm-8">
                                                <div *ngIf="fileDetailsEmp" class="upload-pic-txt">
                                                    <span *ngIf="empPhotoName">
                                                        NAME: {{empPhotoName}} <br>
                                                    </span>
                                                    <!-- <span
                                                        *ngIf="!empPhotoName && fileData && fileData.name && fileData.type">
                                                        NAME: {{fileData.name}} <br> -->
                                                    <!-- SIZE: {{fileData.size}} BYTES<br> -->
                                                    <!-- FILE TYPE: {{fileData.type}} <br><br>
                                                    </span> -->
                                                    <!-- <div *ngIf="item.npsNomiForm && item.npsNomiForm.name"> -->
                                                    <div
                                                        *ngIf="!empPhotoName && fileData && fileData.name && fileData.type">
                                                        NAME: {{fileData.name}}
                                                        <span>
                                                            <i class="material-icons closesmall"
                                                                (click)="removeSelectedEmplPhoto()" title="Delete File"
                                                                aria-hidden="true">close</i>
                                                        </span>
                                                        <br>
                                                        FILE TYPE: {{fileData.type}} <br>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div *ngIf="!fileDetailsEmp">
                                                        <b>Employee Photo:</b>
                                                    </div>
                                                    <br>
                                                    <div class="browse-btn-wrap">
                                                        <button type="button"
                                                            *ngIf="!(empPhotoKey && empPhotoName) && action !== 'view' && !(fileData && fileData.name && fileData.type)"
                                                            (click)="openFileSelector1()" class="btn-browse"
                                                            [disabled]="action === 'view'">
                                                            <i class="material-icons">cloud_upload</i> Browse Files
                                                        </button>
                                                        <button *ngIf="empPhotoKey && empPhotoName && action !== 'view'"
                                                            type="button" (click)="deleteEmpPhoto()" mat-raised-button
                                                            color="primary">
                                                            <i class="material-icons">
                                                                restore_from_trash
                                                            </i>
                                                            Delete
                                                        </button>
                                                        <button *ngIf="empPhotoKey && empPhotoName" type="button"
                                                            mat-raised-button color="primary"
                                                            (click)="downloadAttachFile(empPhotoKey, empPhotoName)"
                                                            style="margin-left: 10px;" title="View">
                                                            <i class="material-icons">remove_red_eye</i>
                                                            View
                                                        </button>
                                                    </div>
                                                    <br>
                                                    <span class="file-info">
                                                        - File size should be under 300KB <br>
                                                        - File type supported : JPG, PNG, JPEG
                                                    </span>
                                                    <input #empPhoto type="file" id="fileBrowse-emp"
                                                        style="visibility: hidden;"
                                                        accept="image/png,image/jpeg,image/jpg"
                                                        (change)="onEmplPhotoSelection($event)" />
                                                </div>
                                            </div>
                                            <div class="col-sm-4 rightAlign">
                                                <img *ngIf="empViewPhoto" class="user-pic-img"
                                                    [src]="empViewPhoto ? empViewPhoto : ''" alt="">
                                                <i *ngIf="!empViewPhoto" class="material-icons user-pic">
                                                    person
                                                </i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-action-button">
                        <button type="button" mat-raised-button (click)="goToDashboard()" class="btnClose">
                            <i class="material-icons" title="Dashboard"> close </i>
                            Close
                        </button>
                        <button type="button" mat-raised-button color="accent" (click)="viewWorkflowHistory()"
                            *ngIf="!isSaveDraftVisible && dialogOpen == false">
                            <i class="material-icons " title="View Comments">remove_red_eye</i>
                            View Comments
                        </button>
                        <button type="button" mat-raised-button color="warn" (click)="goToListing()"
                            *ngIf="dialogOpen == false">
                            <i class="material-icons" aria-hidden="true" title="Listing">list</i>
                            Listing
                        </button>
                        <button type="button" mat-raised-button color="accent" (click)="resetTab(1)"
                            *ngIf="action !== 'view' && dialogOpen == false">
                            <i class="material-icons"> restore </i>
                            Reset
                        </button>
                        <button type="button" mat-raised-button color="primary" (click)="onSavePersonalDetail('DRAFT')" [disabled]="isPersonalSaveDisabled"
                            *ngIf="isSaveDraftVisible && action !== 'view' && dialogOpen == false">
                            <i class="material-icons" title="Save">save </i>
                            Save as Draft
                        </button>
                        <button type="button" mat-raised-button color="primary" (click)="onSavePersonalDetail('SUBMIT')" [disabled]="isPersonalSaveDisabled"
                            *ngIf="action !== 'view' && dialogOpen == false">
                            {{(ddoEditable || adminEditable) ? 'Next' : 'Save & Next'}}
                            <i class="material-icons" title="Next">chevron_right</i>
                        </button>
                    </div>
                </mat-tab>
                <mat-tab label="Exam & Qualification Details" [disabled]="isTabDisabled">
                    <!-- shailesh -->
                    <div class="box box-primary">
                        <div class="box-header">
                            <div style="display: inline-block; width:80%;"> Qualification</div>
                            <div *ngIf = 'approvedStatus' style="display: inline-block; width:20%; text-align: right; cursor: pointer;"><mat-icon (click)="openHistoryDialog('Qualification', 'QUALIFICATION')" matSuffix>info</mat-icon></div>
                        </div>
                        <div class="box-body">
                            <table mat-table [dataSource]="dataSourceQualification" width="100%"
                                class="auto-scroll-bar">
                                <ng-container matColumnDef="degree">
                                    <th mat-header-cell *matHeaderCellDef>School/ Degree
                                        <span class="estric">*</span>
                                    </th>
                                    <td mat-cell *matCellDef="let item;let i = index;">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.degree && qualHighlight && !disableQual">
                                            <mat-select [ngModel]="item.degree" placeholder="Degree" required
                                                (selectionChange)="clearCourse(item);degreeCourseUniqueCheck('degree', item, i, $event);"
                                                [disabled]="disableQual"
                                                [title]="getTitleNameDataSorce(degreeList, item.degree, 'id', 'name')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="getCtrl(degreeCtrl, i)"
                                                        [placeholderLabel]="'Find Degree...'"
                                                        [noEntriesFoundLabel]="'no matching Degree found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="degree.name"
                                                    *ngFor="let degree of degreeList | filterSelectInput: getCtrl(degreeCtrl, i).value:'name'"
                                                    [value]="degree.id">
                                                    {{degree.name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="courseName">
                                    <th mat-header-cell *matHeaderCellDef class="course-name-width">Course Name<span
                                            class="estric">*</span></th>
                                    <td mat-cell *matCellDef="let item;let i = index;">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.courseName && qualHighlight && !(item.enabledCourseName || disableQual)">
                                            <mat-select [ngModel]="item.courseName" placeholder="Course Name"
                                                (selectionChange)="degreeCourseUniqueCheck('course', item, i, $event);"
                                                [disabled]="item.enabledCourseName || disableQual"
                                                [title]="getTitleNameDataSorce(item.courseNameList, item.courseName, 'id', 'name')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="getCtrl(courseCtrl, i)"
                                                        [placeholderLabel]="'Find Course Name...'"
                                                        [noEntriesFoundLabel]="'no matching Course Name found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="course.name"
                                                    *ngFor="let course of item.courseNameList | filterSelectInput: getCtrl(courseCtrl, i).value : 'name'"
                                                    [value]="course.id">
                                                    {{course.name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <mat-form-field floatLabel="never" *ngIf="item.isOtherCourseName"
                                            [class.highlight]="!item.otherCourseName && qualHighlight && !disableQual">
                                            <input matInput maxlength="50" [disabled]="disableQual"
                                                [value]="item.otherCourseName" [(ngModel)]="item.otherCourseName"
                                                placeholder="Other Course Name" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="passingYear">
                                    <th mat-header-cell *matHeaderCellDef class="passing-year-width">Year of
                                        Passing<span class="estric">*</span>
                                    </th>
                                    <td mat-cell *matCellDef="let item; let i = index;">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.passingYear && qualHighlight && !disableQual">
                                            <mat-select [(ngModel)]="item.passingYear" [disabled]="disableQual"
                                                placeholder="Year of Passing"
                                                [title]="getTitleNameDataSorce(passingYearList, item.passingYear, 'id', 'name')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="getCtrl(passingYearCtrl, i)"
                                                        [placeholderLabel]="'Find Year of Passing...'"
                                                        [noEntriesFoundLabel]="'no matching Year of Passing found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="passingYear.name"
                                                    *ngFor="let passingYear of passingYearList  | filterSelectInput: getCtrl(passingYearCtrl, i).value: 'name'"
                                                    [value]="passingYear.id">
                                                    {{passingYear.name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="schoolCollege">
                                    <th mat-header-cell *matHeaderCellDef>School/ College
                                        <!-- <span class="estric">*</span> -->
                                    </th>
                                    <td mat-cell *matCellDef="let item">
                                        <!-- <mat-form-field floatLabel="never" [class.highlight]="!item.schoolCollege && qualHighlight && !disableQual"> -->
                                        <mat-form-field floatLabel="never">
                                            <input matInput class="quaSchoolCollage" maxlength="50"
                                                [disabled]="disableQual" [value]="item.schoolCollege"
                                                [(ngModel)]="item.schoolCollege" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="universityBoard">
                                    <th mat-header-cell *matHeaderCellDef>University/ Board<span class="estric">*</span>
                                    </th>
                                    <td mat-cell *matCellDef="let item">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.universityBoard && qualHighlight && !disableQual">
                                            <input matInput class="quaUniversityBoard" maxlength="50"
                                                [disabled]="disableQual" required [value]="item.universityBoard"
                                                [(ngModel)]="item.universityBoard" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="percentageCGPA">
                                    <th mat-header-cell *matHeaderCellDef class="percetage-width">Percentage/CGPA
                                        <!-- <span class="estric">*</span> -->
                                    </th>
                                    <td mat-cell *matCellDef="let item">
                                        <!-- <mat-form-field floatLabel="never" [class.highlight]="!item.percentageCGPA && qualHighlight && !disableQual"> -->
                                        <mat-form-field floatLabel="never">
                                            <input matInput class="quaPercentageCGPA" [disabled]="disableQual"
                                                [value]="item.percentageCGPA" [(ngModel)]="item.percentageCGPA"
                                                (keypress)="percentKeyPress($event)"
                                                (blur)="decimalPoint(item,'percentageCGPA')" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="remarks">
                                    <th mat-header-cell *matHeaderCellDef>Remarks</th>
                                    <td mat-cell *matCellDef="let item; let idx = index;">
                                        <mat-form-field floatLabel="never" class="address">
                                            <textarea matInput class="remarks" [disabled]="disableQual"
                                                [value]="item.remarks" [(ngModel)]="item.remarks"
                                                (input)="updateQualRemarks($event, idx)" maxlength="2000"></textarea>
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="Action">
                                    <th mat-header-cell *matHeaderCellDef>Action</th>
                                    <td mat-cell *matCellDef="let item; let i = index;">
                                        <table class="iconTable">
                                            <tbody>
                                                <tr>
                                                    <td *ngIf = '(approvedStatus && (!item.empQualiId || item.empQualiId === 0)) || !approvedStatus'>
                                                        <i class="material-icons plus delete"
                                                            *ngIf="(dataSourceQualification && dataSourceQualification.data && dataSourceQualification.data.length > 1) && !disableQual"
                                                            (click)="deleteQualification(item.empQualiId,i)">
                                                            delete
                                                        </i>
                                                    </td>
                                                    <td width="30">
                                                        <i class="material-icons plus add"
                                                            *ngIf="(dataSourceQualification && dataSourceQualification.data && (i == dataSourceQualification.data.length - 1)) && !disableQual"
                                                            (click)="addQualification()">
                                                            add
                                                        </i>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="displayedQualificationColumns"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedQualificationColumns;"></tr>
                            </table>
                        </div>
                    </div>
                    <div class="box box-primary">
                        <div class="box-header">
                            <div style="display: inline-block; width:95%;">Departmental Exam Details
                                <span class="change-direction">
                                    <mat-radio-group (change)="onClickDeptExamExempted($event)">
                                        <mat-radio-button value="Exempted" [disabled]="disableQual || action == 'view'" [checked]="exemptDept">
                                            Is departmental Exam not applicable?
                                        </mat-radio-button>
                                        &nbsp;
                                        <mat-radio-button value="Pass" [disabled]="disableQual || action == 'view'" [checked]="applicableDept">
                                            Is Departmental Exam
                                            Applicable?</mat-radio-button>
                                    </mat-radio-group>
                                </span>
                            </div>
                            <div *ngIf = 'approvedStatus' style="display: inline-block; width:5%; text-align: right; cursor: pointer;"><mat-icon (click)="openHistoryDialog('Departmental Exam Details', 'EXAM_DETAIL')" matSuffix>info</mat-icon></div>
                        </div>
                        <div class="box-body" *ngIf="isDeptExamApplicable">
                            <table mat-table [dataSource]="dataSourceDeptExam" width="100%" class="auto-scroll-bar">
                                <ng-container matColumnDef="deptExamName">
                                    <th mat-header-cell *matHeaderCellDef class="dept-name-set">Departmental Exam Name
                                        <span *ngIf="!disableFieldDept" class="estric">*</span></th>
                                    <td mat-cell *matCellDef="let item">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.deptExamName && deptHighlight && !disableFieldDept && !disableQual">
                                            <input class="deptDeptName" [title]="item.deptExamName" matInput
                                                maxlength="50" [value]="item.deptExamName"
                                                [disabled]='disableFieldDept || disableQual || (item.examStatus === 139)'
                                                [(ngModel)]="item.deptExamName" required autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="examBody">
                                    <th mat-header-cell *matHeaderCellDef class="exam-body-width">Examination Body<span
                                            *ngIf="!disableFieldDept" class="estric">*</span>
                                    </th>
                                    <td mat-cell *matCellDef="let item; let i = index;">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.examBody && deptHighlight && !disableFieldDept && !disableQual">
                                            <mat-select [(ngModel)]="item.examBody"
                                                [disabled]='disableFieldDept || disableQual || (item.examStatus === 139)'
                                                placeholder="Examination Body"
                                                (selectionChange)="onChangeExamBody($event,item)"
                                                [title]="getTitleNameDataSorce(deptExamBodyList, item.examBody, 'lookupInfoId', 'lookupInfoName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="getCtrl(examBodyCtrl, i)"
                                                        [placeholderLabel]="'Find Examination Body...'"
                                                        [noEntriesFoundLabel]="'no matching Examination Body found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="examBody.lookupInfoName"
                                                    *ngFor="let examBody of deptExamBodyList | filterSelectInput: getCtrl(examBodyCtrl, i).value: 'lookupInfoName'"
                                                    [value]="examBody.lookupInfoId">
                                                    {{examBody.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="deptHodName">
                                    <th mat-header-cell *matHeaderCellDef>Department/HOD Name<span
                                            *ngIf="!disableFieldDept" class="estric">*</span></th>
                                    <td mat-cell *matCellDef="let item; let i = index;">
                                        <mat-form-field floatLabel="never" *ngIf="!onDeptExamBodySelect(item)"
                                            [class.highlight]="!item.deptHodName && deptHighlight && !disableFieldDept && !(item.disabledeptHOD || action === 'view')">
                                            <mat-select [(ngModel)]="item.deptHodName"
                                                [disabled]="item.disabledeptHOD || disableFieldDept || action === 'view' || (item.examStatus === 139)"
                                                placeholder="Department/HOD Name"
                                                [title]="getTitleNameDataSorce(item.deptHodNameList, item.deptHodName, item.examBody === 133 ? 'departmentId' : 'id'
                                                , item.examBody === 133 ? 'departmentName' : 'name')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="getCtrl(deptHodNameCtrl, i)"
                                                        [placeholderLabel]="'Find Department/HOD Name...'"
                                                        [noEntriesFoundLabel]="'no matching Department/HOD Name found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="item.examBody === 133 ? name.departmentName : name.name"
                                                    *ngFor="let name of item.deptHodNameList | filterSelectInput: getCtrl(deptHodNameCtrl, i).value: (item.examBody === 133 ?  'departmentName' : 'name')"
                                                    [value]="item.examBody === 133 ? name.departmentId: name.id">
                                                    {{item.examBody === 133 ? name.departmentName : name.name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>

                                        <mat-form-field floatLabel="never" *ngIf="onDeptExamBodySelect(item)"
                                            [class.highlight]="!item.otherDeptHodName && deptHighlight && !(disableFieldDept || disableQual)">
                                            <input matInput [value]="item.otherDeptHodName"
                                                [disabled]='disableFieldDept || disableQual || (item.examStatus === 139)'
                                                [(ngModel)]="item.otherDeptHodName" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="dateOfPassing">
                                    <th mat-header-cell *matHeaderCellDef class="table-date-width">Date of Passing<span
                                            *ngIf="!disableFieldDept" class="estric">*</span>
                                    </th>
                                    <td mat-cell *matCellDef="let item">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.dateOfPassing && deptHighlight && !disableFieldDept && !disableQual">
                                            <input matInput class="deptDateofPassing"
                                                [min]="createEmployeeForm.get('dateOfBirth').value" [max]="maxDOJ"
                                                [matDatepicker]="picker" [disabled]='disableFieldDept || disableQual || (item.examStatus === 139)'
                                                [value]="item.dateOfPassing" [(ngModel)]="item.dateOfPassing" readonly>
                                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                            <mat-datepicker #picker [disabled]='disableFieldDept || disableQual || (item.examStatus === 139)'>
                                            </mat-datepicker>
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="examStatus">
                                    <th mat-header-cell *matHeaderCellDef class="status-width">Status<span *ngIf="!disableFieldDept"
                                            class="estric">*</span></th>
                                    <td mat-cell *matCellDef="let item; let i = index;">
                                        <mat-form-field floatLabel="never">
                                            <mat-select [(ngModel)]="item.examStatus" class="deptStatus" placeholder="Status"
                                                (selectionChange) = 'changeExemtedRow($event, item)'
                                                [disabled]= '(!adminEditable && !ddoEditable) || exemptDept'
                                                [title]="getTitleNameDataSorce(deptExamStatusList, item.examStatus, 'lookupInfoId', 'lookupInfoName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="getCtrl(deptExamStatusCtrl, i)"
                                                        [placeholderLabel]="'Find Status...'"
                                                        [noEntriesFoundLabel]="'no matching Status found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="examStatus.lookupInfoName"
                                                    *ngFor="let examStatus of deptExamStatusList  | filterSelectInput: getCtrl(deptExamStatusCtrl, i).value: 'lookupInfoName'"
                                                    [value]="examStatus.lookupInfoId">
                                                    {{examStatus.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="examAttempts">
                                    <th mat-header-cell *matHeaderCellDef class="attemp-width">No. of Attempts
                                        <!-- <span
                                            *ngIf="!disableFieldDept" class="estric">*</span> -->
                                    </th>
                                    <!--  [class.highlight]="!(item.examAttempts && item.examAttempts !== '0') && deptHighlight && !disableFieldDept && !disableQual" -->
                                    <td mat-cell *matCellDef="let item">
                                        <mat-form-field floatLabel="never"
                                           >
                                            <input matInput class="deptAttempts" [value]="item.examAttempts"
                                                [disabled]='disableFieldDept || disableQual || (item.examStatus === 139)' numbersOnly
                                                [(ngModel)]="item.examAttempts" (keypress)="integerKeyPress($event)"
                                                maxlength="2" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="remarks">
                                    <th mat-header-cell *matHeaderCellDef>Remarks<span *ngIf="disableFieldDept"
                                            class="estric">*</span></th>
                                    <td mat-cell *matCellDef="let item;let idx = index;">
                                        <mat-form-field floatLabel="never" class="address"
                                            [class.highlight]="(!item.remarks && deptHighlight && disableFieldDept && !disableQual) || (!item.remarks && deptHighlight && !disableQual && approvedStatus && item.examStatus === 139)">
                                            <textarea maxlength="2000" class="deptRemarks" matInput
                                                [disabled]="disableQual" [value]="item.remarks"
                                                [(ngModel)]="item.remarks"
                                                (keyup)="updateDeptRemarks($event, idx)"></textarea>
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="Action">
                                    <th mat-header-cell *matHeaderCellDef>Action</th>
                                    <td mat-cell *matCellDef="let item; let i = index;">
                                        <table class="iconTable">
                                            <tbody>
                                                <tr>
                                                    <td *ngIf = '(approvedStatus && (!item.empDeptExamDetailId || item.empDeptExamDetailId === 0)) || !approvedStatus'>
                                                        <i class="material-icons plus delete"
                                                            *ngIf="(dataSourceDeptExam && dataSourceDeptExam.data && dataSourceDeptExam.data.length > 1) && !disableQual"
                                                            (click)="deleteDeptExam(item.empDeptExamDetailId,i)">
                                                            delete
                                                        </i>
                                                    </td>
                                                    <td width="30" *ngIf="!disableFieldDept">
                                                        <i class="material-icons plus add"
                                                            *ngIf="(dataSourceDeptExam && dataSourceDeptExam.data && (i == dataSourceDeptExam.data.length - 1)) && !disableQual"
                                                            (click)="addDeptExam()">
                                                            add
                                                        </i>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="displayedDeptExamColumns"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedDeptExamColumns;"></tr>
                            </table>
                        </div>
                    </div>
                    <div class="box box-primary">
                        <div class="box-header">
                            <div style="display: inline-block; width:95%;">CCC/ CCC+ Exam Details
                                <span class="change-direction">
                                    <mat-radio-group (change)="onClickCCCExamExempted($event)">
                                        <mat-radio-button value="Exempted" [disabled]="disableQual || action == 'view'" [checked]="exemptCCC">Is
                                            Exempted
                                        </mat-radio-button>
                                        &nbsp;
                                        <mat-radio-button value="Pass" *ngIf="!cccExemptedFlag" [disabled]="disableQual || action == 'view'"
                                            [checked]="applicableCCC">Is
                                            CCC/CCC+ Exam
                                            Applicable?</mat-radio-button>
                                    </mat-radio-group>
                                </span>
                            </div>
                            <div *ngIf = 'approvedStatus' style="display: inline-block; width:5%; text-align: right; cursor: pointer;"><mat-icon (click)="openHistoryDialog('CCC/ CCC+ Exam Details', 'CCE_EXAM')" matSuffix>info</mat-icon></div>
                        </div>
                        <div class="box-body" *ngIf="isCCCExamApplicable">
                            <table mat-table [dataSource]="dataSourceSpclExam" width="100%" class="auto-scroll-bar">
                                <ng-container matColumnDef="cccExamName">
                                    <th mat-header-cell *matHeaderCellDef>Exam Name<span *ngIf="!disableFieldCCC"
                                            class="estric">*</span></th>
                                    <td mat-cell *matCellDef="let item;let i = index;">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.cccExamName && cccHighlight && !disableFieldCCC && !disableQual">
                                            <mat-select [(ngModel)]="item.cccExamName" placeholder="Exam Name"
                                                [disabled]='disableFieldCCC || disableQual || item.cccExamNameDisable || (item.examStatus === 139)'
                                                [title]="getTitleNameDataSorce(item.cccExamNameList, item.cccExamName, 'lookupInfoId', 'lookupInfoName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="getCtrl(cccExamNameCtrl, i)"
                                                        [placeholderLabel]="'Find Exam Name ...'"
                                                        [noEntriesFoundLabel]="'no matching Exam Name found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="cccExamName.lookupInfoName"
                                                    *ngFor="let cccExamName of item.cccExamNameList | filterSelectInput: getCtrl(cccExamNameCtrl, i).value: 'lookupInfoName'"
                                                    [value]="cccExamName.lookupInfoId">
                                                    {{cccExamName.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="examBody">
                                    <th mat-header-cell *matHeaderCellDef>Examination Body<span *ngIf="!disableFieldCCC"
                                            class="estric">*</span>
                                    </th>
                                    <td mat-cell *matCellDef="let item; let i = index;">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.examBody && cccHighlight && !disableFieldCCC && !disableQual">
                                            <mat-select [(ngModel)]="item.examBody" placeholder="Examination Body"
                                                [disabled]='disableFieldCCC || disableQual || (item.examStatus === 139)'
                                                [title]="getTitleNameDataSorce(cccExamBodyList, item.examBody, 'id', 'name')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="getCtrl(cccExamBodyCtrl, i)"
                                                        [placeholderLabel]="'Find Examination Body..'"
                                                        [noEntriesFoundLabel]="'no matching Examination Body found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="examBody.name"
                                                    *ngFor="let examBody of cccExamBodyList | filterSelectInput: getCtrl(cccExamBodyCtrl, i).value: 'name'"
                                                    [value]="examBody.id">
                                                    {{examBody.name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="dateOfExam">
                                    <th mat-header-cell *matHeaderCellDef class="table-date-width">Date of Exam
                                        <!-- <span *ngIf="!disableFieldCCC" class="estric">*</span> -->
                                        </th>
                                        <!-- [class.highlight]="!item.dateOfExam && cccHighlight && !disableFieldCCC && !disableQual" -->
                                    <td mat-cell *matCellDef="let item">
                                        <mat-form-field floatLabel="never"
                                            >
                                            <input matInput class="cccDateOfExam"
                                                [min]="createEmployeeForm.get('dateOfBirth').value"
                                                [max]="loadMaxDateOfExam(item)" [matDatepicker]="picker"
                                                [value]="item.dateOfExam" [(ngModel)]="item.dateOfExam"
                                                [disabled]='disableFieldCCC || disableQual || (item.examStatus === 139)' readonly>
                                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                            <mat-datepicker #picker [disabled]='disableFieldCCC  || disableQual || (item.examStatus === 139)'>
                                            </mat-datepicker>
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="dateOfPassing">
                                    <th mat-header-cell *matHeaderCellDef class="table-date-width">Date of Passing<span
                                            *ngIf="!disableFieldCCC" class="estric">*</span>
                                    </th>
                                    <td mat-cell *matCellDef="let item">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.dateOfPassing && cccHighlight && !disableFieldCCC && !disableQual">
                                            <input matInput class="cccDateOfPassing" [min]="item.dateOfExam" [max]="maxDOJ"
                                                [matDatepicker]="picker" [value]="item.dateOfPassing"
                                                [(ngModel)]="item.dateOfPassing"
                                                [disabled]='disableFieldCCC || disableQual || (item.examStatus === 139)' readonly>
                                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                            <mat-datepicker #picker [disabled]='disableFieldCCC || disableQual || (item.examStatus === 139)'>
                                            </mat-datepicker>
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="examStatus">
                                    <th mat-header-cell *matHeaderCellDef class="status-width">Status<span *ngIf="!disableFieldCCC"
                                            class="estric">*</span></th>
                                    <td mat-cell *matCellDef="let item; let i = index;">
                                        <mat-form-field floatLabel="never">
                                            <mat-select [(ngModel)]="item.examStatus" class="cccStatus" placeholder="Status"
                                                (selectionChange) = 'changeExemtedRow($event, item)'
                                                [disabled]='(!adminEditable && !ddoEditable) || exemptCCC'
                                                [title]="getTitleNameDataSorce(cccExamStatusList, item.examStatus, 'lookupInfoId', 'lookupInfoName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="getCtrl(cccExamStatusCtrl, i)"
                                                        [placeholderLabel]="'Find Status...'"
                                                        [noEntriesFoundLabel]="'no matching Status found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="examStatus.lookupInfoName"
                                                    *ngFor="let examStatus of cccExamStatusList  | filterSelectInput: getCtrl(cccExamStatusCtrl, i).value: 'lookupInfoName'"
                                                    [value]="examStatus.lookupInfoId">
                                                    {{examStatus.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="certificateNo">
                                    <th mat-header-cell *matHeaderCellDef>Notification/ Certificate No.<span
                                            *ngIf="!disableFieldCCC" class="estric">*</span></th>
                                    <td mat-cell *matCellDef="let item">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.certificateNo && cccHighlight && !disableFieldCCC && !disableQual">
                                            <input matInput [title]="item.certificateNo" class="cccNotification"
                                                maxlength="50" [value]="item.certificateNo"
                                                [(ngModel)]="item.certificateNo"
                                                [disabled]='disableFieldCCC || disableQual || (item.examStatus === 139)' autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="remarks">
                                    <th mat-header-cell *matHeaderCellDef>Remarks<span *ngIf="disableFieldCCC"
                                            class="estric">*</span></th>
                                    <td mat-cell *matCellDef="let item; let idx = index;">
                                        <mat-form-field floatLabel="never" class="address"
                                            [class.highlight]="(!item.remarks && cccHighlight && disableFieldCCC && !disableQual) || (!item.remarks && cccHighlight && !disableQual && approvedStatus && item.examStatus === 139)">
                                            <textarea class="cccRemarks" matInput maxlength="2000"
                                                [value]="item.remarks" [(ngModel)]="item.remarks"
                                                [disabled]="disableQual"
                                                (input)="updateCccRemarks($event, idx)"></textarea>
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="Action">
                                    <th mat-header-cell *matHeaderCellDef>Action</th>
                                    <td mat-cell *matCellDef="let item; let i = index;">
                                        <table class="iconTable">
                                            <tbody>
                                                <tr>
                                                    <td *ngIf = '(approvedStatus && (!item.empCCCExamDetailId || item.empCCCExamDetailId === 0)) || !approvedStatus'>
                                                        <i class="material-icons plus delete"
                                                            *ngIf="(dataSourceSpclExam && dataSourceSpclExam.data && dataSourceSpclExam.data.length > 1) && !disableQual"
                                                            (click)="deleteSpclExam(item.empCCCExamDetailId,i)">
                                                            delete
                                                        </i>
                                                    </td>
                                                    <td width="30" *ngIf="!disableFieldCCC">
                                                        <i class="material-icons plus add"
                                                            *ngIf="(dataSourceSpclExam && dataSourceSpclExam.data && (i == dataSourceSpclExam.data.length - 1)) && !disableQual && (i < 3)"
                                                            (click)="addSpclExam()">
                                                            add
                                                        </i>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="displayedspclExamColumns"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedspclExamColumns;"></tr>
                            </table>
                        </div>
                    </div>
                    <div class="box box-primary">
                        <div class="box-header">
                            <div style="display: inline-block; width:95%;">Language Exam
                            </div>
                            <div *ngIf = 'approvedStatus' style="display: inline-block; width:5%; text-align: right; cursor: pointer;">
                                <mat-icon (click)="openHistoryDialog('Language Exam', 'LANGUAGE_EXAM')" matSuffix>info</mat-icon>
                            </div>
                        </div>
                        <div class="box-body">
                            <table mat-table [dataSource]="dataSourceLangExam" width="100%" class="auto-scroll-bar">
                                <ng-container matColumnDef="langName">
                                    <th mat-header-cell *matHeaderCellDef>Language</th>
                                    <td mat-cell *matCellDef="let item; let i = index;">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.langName && langHighlight && !disableQual">
                                            <mat-select [(ngModel)]="item.langName" [disabled]="disableQual || item.langNameDisable" placeholder="Language" (selectionChange)="loadExamType(item, i)" [title]="getTitleNameDataSorce(item.langNameList, item.langName, 'lookupInfoId', 'lookupInfoName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="getCtrl(langNameCtrl, i)"
                                                        [placeholderLabel]="'Find Language ...'"
                                                        [noEntriesFoundLabel]="'no matching Language found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="langName.lookupInfoName"
                                                    *ngFor="let langName of item.langNameList  | filterSelectInput: getCtrl(langNameCtrl, i).value: 'lookupInfoName'"
                                                    [value]="langName.lookupInfoId">
                                                    {{langName.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="examBody">
                                    <th mat-header-cell *matHeaderCellDef>Examination Body
                                    </th>
                                    <td mat-cell *matCellDef="let item; let i = index;">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.examBody && langHighlight && !disableQual">
                                            <input matInput [title]="item.examBody" class="langExamBody"
                                                [value]="item.examBody" [disabled]="disableQual"
                                                [(ngModel)]="item.examBody" maxlength="200" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="examType">
                                    <th mat-header-cell *matHeaderCellDef>Exam Type</th>
                                    <td mat-cell *matCellDef="let item; let i = index;">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.examType && langHighlight && !disableQual">
                                            <mat-select [(ngModel)]="item.examType" [disabled]="disableQual || item.examTypeDisable"
                                                placeholder="Exam Type"
                                                [title]="getTitleNameDataSorce(item.langTypeList, item.examType, 'lookupInfoId', 'lookupInfoName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="getCtrl(langExamTypeCtrl, i)"
                                                        [placeholderLabel]="'Find Exam Type...'"
                                                        [noEntriesFoundLabel]="'no matching Exam Type found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="examType.lookupInfoName"
                                                    *ngFor="let examType of item.langTypeList | filterSelectInput: getCtrl(langExamTypeCtrl, i).value: 'lookupInfoName'"
                                                    [value]="examType.lookupInfoId">
                                                    {{examType.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="dateOfPassing">
                                    <th mat-header-cell *matHeaderCellDef class="table-date-width">Date of Passing
                                    </th>
                                    <td mat-cell *matCellDef="let item">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.dateOfPassing && langHighlight && !disableQual">
                                            <input matInput class="langDateOfPassing"
                                                [min]="createEmployeeForm.get('dateOfBirth').value" [max]="maxDOJ"
                                                [disabled]="disableQual" [matDatepicker]="picker"
                                                [value]="item.dateOfPassing" [(ngModel)]="item.dateOfPassing" readonly>
                                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                            <mat-datepicker #picker [disabled]=disableQual></mat-datepicker>
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="seatNo">
                                    <th mat-header-cell *matHeaderCellDef>Seat No.</th>
                                    <td mat-cell *matCellDef="let item">
                                        <mat-form-field floatLabel="never">
                                            <input matInput [title]="item.seatNo" alphaNumericWithSpaceSlashHyphenOnly
                                                class="langSeat" [value]="item.seatNo" [disabled]="disableQual"
                                                maxlength="20" [(ngModel)]="item.seatNo" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="examStatus">
                                    <th mat-header-cell *matHeaderCellDef class="status-width">Status</th>
                                    <td mat-cell *matCellDef="let item; let i = index;">
                                        <mat-form-field floatLabel="never"
                                            [class.highlight]="!item.examStatus && langHighlight && !disableQual">
                                            <mat-select [(ngModel)]="item.examStatus" class="langStatus" [disabled]="disableQual"
                                                placeholder="Status"
                                                [title]="getTitleNameDataSorce(langExamStatusList, item.examStatus, 'lookupInfoId', 'lookupInfoName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="getCtrl(langExamStatusCtrl, i)"
                                                        [placeholderLabel]="'Find Status...'"
                                                        [noEntriesFoundLabel]="'no matching Status found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="examStatus.lookupInfoName"
                                                    *ngFor="let examStatus of langExamStatusList  | filterSelectInput: getCtrl(langExamStatusCtrl, i).value: 'lookupInfoName'"
                                                    [value]="examStatus.lookupInfoId">
                                                    {{examStatus.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="remarks">
                                    <th mat-header-cell *matHeaderCellDef>Remarks</th>
                                    <td mat-cell *matCellDef="let item; let idx = index;">
                                        <mat-form-field floatLabel="never" class="address">
                                            <textarea matInput class="langRemarks" maxlength="2000"
                                                [disabled]="disableQual" [value]="item.remarks"
                                                [(ngModel)]="item.remarks"
                                                (input)="updateLangRemarks($event, idx)"></textarea>
                                        </mat-form-field>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="Action">
                                    <th mat-header-cell *matHeaderCellDef>Action</th>
                                    <td mat-cell *matCellDef="let item; let i = index;">
                                        <table class="iconTable">
                                            <tbody>
                                                <tr>
                                                    <td *ngIf = '(approvedStatus && (!item.empLangExamId || item.empLangExamId === 0)) || !approvedStatus'>
                                                        <i class="material-icons plus delete"
                                                        *ngIf="(dataSourceLangExam && dataSourceLangExam.data && dataSourceLangExam.data.length > 1) && !disableQual"
                                                            (click)="deleteLangExam(item.empLangExamId,i)">
                                                            delete
                                                        </i>
                                                    </td>
                                                    <td width="30">
                                                        <i class="material-icons plus add"
                                                            *ngIf="(dataSourceLangExam && dataSourceLangExam.data && (i == dataSourceLangExam.data.length - 1)) && !disableQual && (i < 3)"
                                                            (click)="addLangExam()">
                                                            add
                                                        </i>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="displayedLangExamColumns"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedLangExamColumns;"></tr>
                            </table>
                        </div>
                    </div>
                    <div class="form-action-button">
                        <button type="button" mat-raised-button color="primary" (click)="gotoPrevious(0)"
                            *ngIf="action !== 'view' && dialogOpen == false">
                            <i class="material-icons" title="Next">chevron_left</i>
                            Previous
                        </button>
                        <button type="button" mat-raised-button (click)="goToDashboard()" class="btnClose">
                            <i class="material-icons" title="Dashboard"> close </i>
                            Close
                        </button>
                        <button type="button" mat-raised-button color="accent" (click)="viewWorkflowHistory()"
                            *ngIf="!isSaveDraftVisible && dialogOpen == false">
                            <i class="material-icons " title="View Comments">remove_red_eye</i>
                            View Comments
                        </button>
                        <button type="button" mat-raised-button color="warn" (click)="goToListing()"
                            *ngIf="dialogOpen == false">
                            <i class="material-icons" aria-hidden="true" title="Listing">list</i>
                            Listing
                        </button>
                        <button type="button" mat-raised-button color="accent" (click)="resetTab(2)"
                            *ngIf="action !== 'view' && dialogOpen == false">
                            <i class="material-icons"> restore </i>
                            Reset
                        </button>
                        <button type="button" mat-raised-button color="primary"
                            (click)="saveQualificationDetails('DRAFT')" [disabled]="isQualSaveDisabled"
                            *ngIf="isSaveDraftVisible && action !== 'view' && dialogOpen == false">
                            <i class="material-icons" title="Save">save </i>
                            Save as Draft
                        </button>
                        <button type="button" mat-raised-button color="primary"
                            (click)="saveQualificationDetails('SUBMIT')" [disabled]="isQualSaveDisabled"
                            *ngIf="action !== 'view' && dialogOpen == false">
                            {{(ddoEditable || adminEditable) ? 'Next' : 'Save & Next'}}
                            <i class="material-icons" title="Next">chevron_right</i>
                        </button>
                    </div>
                </mat-tab>
                <mat-tab label="Departmental Details" [disabled]="isTabDisabled">
                    <form [formGroup]="departmentalDetails" autocomplete="off">
                        <div class="box box-primary">
                            <div class="box-header">
                                <div style="display: inline-block; width:80%;"> Departmental Detail</div>
                                <div *ngIf = 'approvedStatus' style="display: inline-block; width:20%; text-align: right; cursor: pointer;"><mat-icon (click)="openHistoryDialog('Departmental Detail', 'DEPARTMENT_DETAIL')" matSuffix>info</mat-icon></div>   
                            </div>
                            <div class="box-body">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput formControlName="dateOfJoiningGOG"
                                                [matDatepicker]="dateOfJoiningGOG" [min]="minDoj" [max]="maxDOJ"
                                                placeholder="Date of Joining" required
                                                (dateChange)="onDOJSelect($event)" readonly [disabled]="ddoEditable && !adminEditable">
                                            <mat-datepicker-toggle matSuffix [for]="dateOfJoiningGOG">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #dateOfJoiningGOG></mat-datepicker>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.DATE_OF_JOINING}"
                                                [control]="departmentalDetails.get('dateOfJoiningGOG')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <!--FIX PAY DATE FOR MIGRATED DATA-->
                                    <div class="col-sm-3" *ngIf="fixProbationDateApplicable">
                                        <mat-form-field>
                                            <input matInput formControlName="fixPayDate"
                                                [matDatepicker]="fixPayDate" [min]="minDoj" [max]="maxFixProbationDate"
                                                placeholder="Fix / Probational Pay Joining Date"
                                                readonly>
                                            <mat-datepicker-toggle matSuffix [for]="fixPayDate">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #fixPayDate></mat-datepicker>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.DATE_OF_JOINING}"
                                                [control]="departmentalDetails.get('fixPayDate')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="payCommissionJoiningTime"
                                                placeholder="Applicable Pay Commission (Joining Time)" required
                                                (selectionChange)="payCommissionChange()"
                                                [title]="getTitleName(departmentalDetails, applicablePayCommList, 'payCommissionJoiningTime', 'lookupInfoId', 'lookupInfoName')" [disabled]="ddoEditable || adminEditable">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="applicablePayCommCtrl"
                                                        [placeholderLabel]="'Find Pay Commission...'"
                                                        [noEntriesFoundLabel]="'no matching Pay Commission found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="payCommissionJoiningTime.lookupInfoName"
                                                    *ngFor="let payCommissionJoiningTime of applicablePayCommList | filterSelectInput: applicablePayCommCtrl.value: 'lookupInfoName'"
                                                    [value]="payCommissionJoiningTime.lookupInfoId">
                                                    {{payCommissionJoiningTime.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.PAY_COMMISSION}"
                                                [control]="departmentalDetails.get('payCommissionJoiningTime')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="empStatus" placeholder="Employee Status"
                                                (selectionChange) = 'onEmpStatusChange($event)'
                                                required 
                                                [title]="getTitleName(departmentalDetails, deptEmpStatusList, 'empStatus', 'lookupInfoId', 'lookupInfoName')" [disabled]="ddoEditable && !adminEditable">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="empStatusCtrl"
                                                        [placeholderLabel]="'Find Employee Status...'"
                                                        [noEntriesFoundLabel]="'no matching Employee Status found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="empStatus.lookupInfoName"
                                                    *ngFor="let empStatus of deptEmpStatusList | filterSelectInput: empStatusCtrl.value: 'lookupInfoName'"
                                                    [value]="empStatus.lookupInfoId">
                                                    {{empStatus.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.EMP_STATUS}"
                                                [control]="departmentalDetails.get('empStatus')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="deputation" placeholder="Is this employee on Deputation"
                                                (selectionChange) = 'onDeputationChange($event)'
                                                [title]="getTitleName(departmentalDetails, isSuspendedList, 'deputation', 'lookupInfoId', 'lookupInfoName')" [disabled]="ddoEditable && !adminEditable">
                                                <mat-option [title]="suspend.lookupInfoName"
                                                    *ngFor="let suspend of isSuspendedList"
                                                    [value]="suspend.lookupInfoId">
                                                    {{suspend.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3" *ngIf="isDeputation">
                                        <mat-form-field>
                                            <input matInput formControlName="deputationStartDate"
                                                [matDatepicker]="deputationStartDate"
                                                placeholder="Deputation Start Date" [min]="joiningDateGog"
                                                [max]="statusMaxDate" (dateChange)="dateValStatus()" required readonly [disabled]="ddoEditable && !adminEditable">
                                            <mat-datepicker-toggle matSuffix [for]="deputationStartDate">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #deputationStartDate></mat-datepicker>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.DEPUTATION_START_DATE}"
                                                [control]="departmentalDetails.get('deputationStartDate')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3" *ngIf="isDeputation">
                                        <mat-form-field>
                                            <input matInput formControlName="deputationEndDate"
                                                [matDatepicker]="deputationEndDate" placeholder="Deputation End Date"
                                                [min]="statusMinDate" (dateChange)="dateValStatus()" required readonly [disabled]="ddoEditable && !adminEditable">
                                            <mat-datepicker-toggle matSuffix [for]="deputationEndDate">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #deputationEndDate></mat-datepicker>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.DEPUTATION_END_DATE}"
                                                [control]="departmentalDetails.get('deputationEndDate')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3"  *ngIf="isDeputation">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="deputDistrictId" placeholder="Deputated District"
                                            (selectionChange) = 'loadPresentOffice()' [required] = 'isDeputation'
                                            [disabled]="ddoEditable && !adminEditable">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="deputationDistCtrl"
                                                        [placeholderLabel]="'Find District...'"
                                                        [noEntriesFoundLabel]="'no matching District found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let dist of deputationDistList | filterSelectInput: deputationDistCtrl.value:'districtName'"
                                                    [value]="dist.districtId">
                                                    {{dist.districtName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.DISTRICT}"
                                                [control]="departmentalDetails.get('deputDistrictId')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3"  *ngIf="isDeputation">
                                        <mat-form-field class="example-full-width">
                                            <input matInput  placeholder="Deputated DDO No."
                                            (blur) = 'loadPresentOffice()'
                                                formControlName="deputDdoCode" numberOnly [required] = 'isDeputation'
                                                [readonly]="ddoEditable && !adminEditable"
                                                [disabled]="ddoEditable && !adminEditable">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3"  *ngIf="isDeputation">
                                        <mat-form-field class="example-full-width">
                                            <input matInput  placeholder="Deputated Cardex No."
                                            (blur) = 'loadPresentOffice()'
                                                formControlName="deputCardexNo" numberOnly [required] = 'isDeputation'
                                                [readonly]="ddoEditable && !adminEditable"
                                                [disabled]="ddoEditable && !adminEditable">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3"  *ngIf="isDeputation">
                                        <mat-form-field class="full-width">
                                            <input matInput placeholder="Name of Deputated Present Office"
                                                formControlName="deputOfficeName" [required] = 'isDeputation' readonly
                                                [disabled]="ddoEditable && !adminEditable">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="suspended" placeholder="Is Suspended"
                                                [title]="getTitleName(departmentalDetails, isSuspendedList, 'suspended', 'lookupInfoId', 'lookupInfoName')" [disabled]="ddoEditable || adminEditable">
                                                <mat-option [title]="suspend.lookupInfoName"
                                                    *ngFor="let suspend of isSuspendedList"
                                                    [value]="suspend.lookupInfoId">
                                                    {{suspend.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="empPayType" placeholder="Employee Pay Type"
                                                required (selectionChange)="onEmpPayTypeChange($event)"
                                                [title]="getTitleName(departmentalDetails, empPayTypeList, 'empPayType', 'lookupInfoId', 'lookupInfoName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="empTypeCtrl"
                                                        [placeholderLabel]="'Find Employee Pay Type ...'"
                                                        [noEntriesFoundLabel]="'no matching Employee Pay Type  found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="empType.lookupInfoName"
                                                    *ngFor="let empType of empPayTypeList | filterSelectInput: empTypeCtrl.value: 'lookupInfoName'"
                                                    [value]="empType.lookupInfoId">
                                                    {{empType.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.EMP_PAY_TYPE}"
                                                [control]="departmentalDetails.get('empPayType')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="districtId" placeholder="District" required
                                                disabled
                                                [title]="getTitleName(departmentalDetails, districtList, 'districtId', 'districtId', 'districtName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="cDistrictCtrl"
                                                        [placeholderLabel]="'Find District...'"
                                                        [noEntriesFoundLabel]="'no matching District found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="districtId.districtName"
                                                    *ngFor="let districtId of districtList | filterSelectInput: cDistrictCtrl.value : 'districtName'"
                                                    [value]="districtId.districtId">
                                                    {{districtId.districtName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.DISTRICT}"
                                                [control]="departmentalDetails.get('districtId')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-3">
                                        <mat-form-field class="example-full-width">
                                            <input matInput readonly placeholder="Cardex No."
                                                formControlName="cardexNo">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput placeholder="Name of Present Office"
                                                formControlName="presentOffice" readonly>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="subOffice" placeholder="Name of Sub-Office"
                                                [title]="getTitleName(departmentalDetails, subOfficeList, 'subOffice', 'id', 'name')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="subOfficeCtrl"
                                                        [placeholderLabel]="'Find Sub-Office...'"
                                                        [noEntriesFoundLabel]="'no matching Sub-Office found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="subOffice.name"
                                                    *ngFor="let subOffice of subOfficeList | filterSelectInput: subOfficeCtrl.value: 'name'"
                                                    [value]="subOffice.id">
                                                    {{subOffice.name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="example-full-width">
                                            <input matInput placeholder="DDO No." formControlName="ddoCode" readonly>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3 address">
                                        <mat-form-field>
                                            <textarea rows="2" matInput formControlName="officeAddNum"
                                                placeholder="Office Address & Contact No." readonly></textarea>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput maxlength="30" placeholder="Station"
                                                formControlName="station" required alphabetWithSpaceOnly>
                                            <error-messages [errorMessages]="{'required': errorMessages.STATION}"
                                                [control]="departmentalDetails.get('station')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="taluka" placeholder="Taluka" [required]="talukaList.length > 0"
                                                [title]="getTitleName(departmentalDetails, talukaList, 'taluka', 'talukaId', 'talukaName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="cTalukaCtrl"
                                                        [placeholderLabel]="'Find Taluka...'"
                                                        [noEntriesFoundLabel]="'no matching Taluka found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="taluka.talukaName"
                                                    *ngFor="let taluka of talukaList | filterSelectInput: cTalukaCtrl.value: 'talukaName'"
                                                    [value]="taluka.talukaId">
                                                    {{taluka.talukaName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.C_CITY_TALUKA}"
                                                [control]="departmentalDetails.get('taluka')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="parentHeadDeptId"
                                                (selectionChange)="getHODList()"
                                                placeholder="Parent Administrative Department" required
                                                [title]="getTitleName(departmentalDetails, parentAdminDeptList, 'parentHeadDeptId', 'departmentId', 'departmentName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="parentAdminDeptCtrl"
                                                        [placeholderLabel]="'Find Parent Administrative Department...'"
                                                        [noEntriesFoundLabel]="'no matching Parent Administrative Department found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="parentAdminDept.departmentName"
                                                    *ngFor="let parentAdminDept of parentAdminDeptList | filterSelectInput: parentAdminDeptCtrl.value: 'departmentName'"
                                                    [value]="parentAdminDept.departmentId">
                                                    {{parentAdminDept.departmentName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.PARENT_ADMIN_DEPT}"
                                                [control]="departmentalDetails.get('parentHeadDeptId')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="hodNameId"
                                                placeholder="Head of Department Name" [required]="isHodRequired" [title]="getTitleName(departmentalDetails, parentHeadDeptList, 'hodNameId', 'id', 'name')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="parentHeadDeptCtrl"
                                                        [placeholderLabel]="'Find Head of Department Name...'"
                                                        [noEntriesFoundLabel]="'no matching Head of Department Name found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="parentHeadDept.name"
                                                    *ngFor="let parentHeadDept of parentHeadDeptList | filterSelectInput: parentHeadDeptCtrl.value: 'name'"
                                                    [value]="parentHeadDept.id">
                                                    {{parentHeadDept.name}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.HEAD_OF_DEPT}"
                                                [control]="departmentalDetails.get('hodNameId')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="empClass" placeholder="Class" required
                                                (selectionChange)="onEmpClassChange($event)"
                                                [title]="getTitleName(departmentalDetails, empClassList, 'empClass', 'lookupInfoId', 'lookupInfoName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="empClassCtrl"
                                                        [placeholderLabel]="'Find Class...'"
                                                        [noEntriesFoundLabel]="'no matching Class found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="empClass.lookupInfoName"
                                                    *ngFor="let empClass of empClassList | filterSelectInput: empClassCtrl.value: 'lookupInfoName'"
                                                    [value]="empClass.lookupInfoId">
                                                    {{empClass.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.CLASS}"
                                                [control]="departmentalDetails.get('empClass')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="empType" placeholder="Employee Type" required
                                                [title]="getTitleName(departmentalDetails, empTypeList, 'empType', 'lookupInfoId', 'lookupInfoName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="empCategoryCtrl"
                                                        [placeholderLabel]="'Find Employee Type...'"
                                                        [noEntriesFoundLabel]="'no matching Employee Type found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="emp.lookupInfoName"
                                                    *ngFor="let emp of empTypeList | filterSelectInput: empCategoryCtrl.value: 'lookupInfoName'"
                                                    [value]="emp.lookupInfoId">
                                                    {{emp.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.CLASS}"
                                                [control]="departmentalDetails.get('empType')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="designationId"
                                                placeholder="Employee Designation" required
                                                [title]="getTitleName(departmentalDetails, empDesignationList, 'designationId', 'designationId', 'designationName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="empDesignationCtrl"
                                                        [placeholderLabel]="'Find Designation...'"
                                                        [noEntriesFoundLabel]="'no matching Designation found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="designationId.name"
                                                    *ngFor="let designationId of empDesignationList | filterSelectInput: empDesignationCtrl.value : 'designationName'"
                                                    [value]="designationId.designationId">
                                                    {{designationId.designationName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.DESIGNATION}"
                                                [control]="departmentalDetails.get('designationId')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="departmentalCategory"
                                                placeholder="Departmental Category" required
                                                [title]="getTitleName(departmentalDetails, departmentalCategoryList, 'departmentalCategory', 'id', 'name')" (selectionChange)="onDepartmentCategoryChange()" [disabled]="ddoEditable || adminEditable">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="departmentalCategoryCtrl"
                                                        [placeholderLabel]="'Find Departmental Category...'"
                                                        [noEntriesFoundLabel]="'no matching Departmental Category found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="departmentalCategory.name"
                                                    *ngFor="let departmentalCategory of departmentalCategoryList | filterSelectInput: departmentalCategoryCtrl.value: 'name'"
                                                    [value]="departmentalCategory.id">
                                                    {{departmentalCategory.name}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.DEPARTMENTAL_CATEGORY}"
                                                [control]="departmentalDetails.get('departmentalCategory')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3" *ngIf="isNpaVisible">
                                        <mat-form-field class="full-width">
                                            <mat-select formControlName="isNPA" placeholder="NPA"
                                                [required]="isNpaVisible"
                                                [title]="getTitleName(departmentalDetails, npaAmountList, 'isNPA', 'lookupInfoId', 'lookupInfoName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="npaAmountCtrl"
                                                        [placeholderLabel]="'Find NPA...'"
                                                        [noEntriesFoundLabel]="'no matching NPA found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option [title]="npaAmount.lookupInfoName"
                                                    *ngFor="let npaAmount of npaAmountList | filterSelectInput: npaAmountCtrl.value : 'lookupInfoName'"
                                                    [value]="npaAmount.lookupInfoId">
                                                    {{npaAmount.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.NPA}"
                                                [control]="departmentalDetails.get('isNPA')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3" *ngIf="showGPF">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" maxlength="15" numbersWithSpecialCharactersOnly placeholder="GPF Number" autocomplete="off" formControlName="gpfNo">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3" *ngIf="showPRAN">
                                        <mat-form-field class="full-width">
                                            <input matInput numbersOnly type="text" placeholder="PRAN Account No."
                                                formControlName="pranAccNo" maxlength="20">
                                            <error-messages [control]="departmentalDetails.get('pranAccNo')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput alphaNumericWithSlashHyphenOnly placeholder="PPO Number"
                                                formControlName="ppoNo" maxlength="20">
                                            <error-messages [control]="departmentalDetails.get('ppoNo')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput type="text" maxlength="16" numbersOnly placeholder="PPAN Number" autocomplete="off" formControlName="ppanNo">
                                            <error-messages [control]="departmentalDetails.get('ppanNo')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput formControlName="dateOfRetirement"
                                                [matDatepicker]="dateOfRetirement" [min]="joiningDateGog"
                                                placeholder="Retirement Date"
                                                [matDatepickerFilter]="retirementDateFilter" required readonly>
                                            <mat-datepicker-toggle matSuffix [for]="dateOfRetirement" >
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #dateOfRetirement></mat-datepicker>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.DATE_OF_RETIREMENT}"
                                                [control]="departmentalDetails.get('dateOfRetirement')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput formControlName="deathTerminationDate"
                                                [matDatepicker]="deathTerminationDate" [min]="joiningDateGog"
                                                [max]="maxDOJ" placeholder="Date of Death/ Termination Date" readonly
                                                class="w-75">
                                            <i *ngIf="departmentalDetails.get('deathTerminationDate').value && (action !== 'view')"
                                                class="material-icons clear-date"
                                                (click)="clearDate(departmentalDetails, 'deathTerminationDate')"
                                                title="Clear Date">close</i>
                                            <mat-datepicker-toggle matSuffix [for]="deathTerminationDate">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #deathTerminationDate></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                    <div class="box box-primary">
                        <div class="box-header">
                            <div style="display: inline-block; width:95%;">
                            Previous Employement History
                            <mat-checkbox (change)="onClickEmployeement()" [checked]="isEmployeementApplicable"
                                [(ngModel)]="isEmployeementApplicable" class="change-direction"
                                [disabled]="action === 'view'">
                                Is Applicable?
                            </mat-checkbox>
                        </div>
                        <div *ngIf = 'approvedStatus' style="display: inline-block; width:5%; text-align: right; cursor: pointer;"><mat-icon (click)="openHistoryDialog('Previous Employement History', 'EMPLOYEE_HISTORY')" matSuffix>info</mat-icon></div>
                   
                        </div>
                        <div class="box-body" *ngIf="isEmployeementApplicable">
                            <form [formGroup]="previousEmployementDetails" #employeeForm="ngForm"
                                (ngSubmit)="addEmployeementHistory(employeeForm)" autocomplete="off">
                                <div class="search-section" *ngIf="action !='view'">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="employementType"
                                                    placeholder="Type of Employement" required
                                                    [title]="getTitleName(previousEmployementDetails, employementTypeList, 'employementType', 'lookupInfoId', 'lookupInfoName')">
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="employementTypeCtrl"
                                                            [placeholderLabel]="'Find Type of Employement...'"
                                                            [noEntriesFoundLabel]="'no matching Type of Employement found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option [title]="employementType.lookupInfoName"
                                                        *ngFor="let employementType of employementTypeList | filterSelectInput: employementTypeCtrl.value: 'lookupInfoName'"
                                                        [value]="employementType.lookupInfoId">
                                                        {{employementType.lookupInfoName}}
                                                    </mat-option>
                                                </mat-select>
                                                <div class="error-wrapper"
                                                    *ngIf="previousEmployementDetails.controls.employementType.touched && previousEmployementDetails.controls.employementType.errors">
                                                    <mat-error
                                                        *ngIf="previousEmployementDetails.controls.employementType.errors.required">
                                                        {{errorMessages.EMP_STATUS}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <input matInput maxlength="100" type="text"
                                                    placeholder="Department Name" alphabetWithSpaceOnly
                                                    formControlName="deptName" required>
                                                <error-messages [errorMessages]="{'required': errorMessages.DEPT_NAME}"
                                                    [control]="previousEmployementDetails.get('deptName')">
                                                </error-messages>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <input matInput maxlength="100" placeholder="Office Name" alphabetWithSpaceOnly
                                                    formControlName="officeName" required>
                                                <error-messages
                                                    [errorMessages]="{'required': errorMessages.OFFICE_NAME}"
                                                    [control]="previousEmployementDetails.get('officeName')">
                                                </error-messages>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3 address">
                                            <mat-form-field class="full-width">
                                                <textarea matInput maxlength="200" formControlName="officeAdd"
                                                    placeholder="Office Address" required></textarea>
                                                <error-messages [errorMessages]="{'required': errorMessages.OFFICE_ADD}"
                                                    [control]="previousEmployementDetails.get('officeAdd')">
                                                </error-messages>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <input matInput type="text" placeholder="Employee Designation"
                                                alphabetWithSpaceOnly maxlength="100" formControlName="empDesignationHist"
                                                    required>
                                                <error-messages
                                                    [errorMessages]="{'required': errorMessages.DESIGNATION}"
                                                    [control]="previousEmployementDetails.get('empDesignationHist')">
                                                </error-messages>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field>
                                                <input matInput formControlName="fromDate" [matDatepicker]="fromDate"
                                                    placeholder="From Date" required [min]="formattedDateOfBirth"
                                                    [max]="joiningDateGog" (dateChange)="dateVal()" readonly>
                                                <mat-datepicker-toggle matSuffix [for]="fromDate">
                                                </mat-datepicker-toggle>
                                                <mat-datepicker #fromDate></mat-datepicker>
                                                <error-messages [errorMessages]="{'required': errorMessages.FROM_DATE}"
                                                    [control]="previousEmployementDetails.get('fromDate')">
                                                </error-messages>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field>
                                                <input matInput formControlName="toDate" [matDatepicker]="toDate"
                                                    placeholder="To Date" required [max]="joiningDateGog"
                                                    (dateChange)="dateVal()" readonly>
                                                <mat-datepicker-toggle matSuffix [for]="toDate">
                                                </mat-datepicker-toggle>
                                                <mat-datepicker #toDate></mat-datepicker>
                                                <error-messages [errorMessages]="{'required': errorMessages.TO_DATE}"
                                                    [control]="previousEmployementDetails.get('toDate')">
                                                </error-messages>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <input matInput numbersOnly maxlength="100" placeholder="Last Pay Drawn"
                                                    formControlName="lastPayDrawn" required>
                                                <error-messages
                                                    [errorMessages]="{'required': errorMessages.LAST_PAY_DRAWN}"
                                                    [control]="previousEmployementDetails.get('lastPayDrawn')">
                                                </error-messages>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="empServiceContinuation"
                                                    placeholder="Is Service Continuation ?"
                                                    (selectionChange)="onEmpServiceChange($event)" required
                                                    [title]="getTitleName(previousEmployementDetails, empServiceContinuationList, 'empServiceContinuation', 'lookupInfoId', 'lookupInfoName')">
                                                    <mat-option>
                                                        <ngx-mat-select-search
                                                            [formControl]="empServiceContinuationCtrl"
                                                            [placeholderLabel]="'Is Service Continuation ?'"
                                                            [noEntriesFoundLabel]="''">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option [title]="empServiceContinuation.lookupInfoName"
                                                        *ngFor="let empServiceContinuation of empServiceContinuationList | filterSelectInput: empServiceContinuationCtrl.value: 'lookupInfoName'"
                                                        [value]="empServiceContinuation.lookupInfoId">
                                                        {{empServiceContinuation.lookupInfoName}}
                                                    </mat-option>
                                                </mat-select>
                                                <error-messages
                                                    [errorMessages]="{'required': errorMessages.IS_SERVICE_CONTINUE}"
                                                    [control]="previousEmployementDetails.get('empServiceContinuation')">
                                                </error-messages>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width" *ngIf="serviceOrderNo">
                                                <input matInput type="text" maxlength="100"
                                                    placeholder="Order Number and Date" formControlName="orderNoDate"
                                                    required>
                                                <error-messages
                                                    [errorMessages]="{'required': errorMessages.ORDER_NO_DATE}"
                                                    [control]="previousEmployementDetails.get('orderNoDate')">
                                                </error-messages>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="form-action-button">
                                        <button class="add-button" type="submit" mat-raised-button color="primary">
                                            <i class="material-icons">add_circle_outline</i>Add
                                        </button>
                                    </div>
                                </div>
                            </form>
                            <div class="box box-primary search-grid mgt10" *ngIf="listshow">
                                <div class="box-header">Employement History</div>
                                <div class="box-body">
                                    <table mat-table #table [dataSource]="dataSource" class="responsive-table">
                                        <ng-container matColumnDef="employementTypeName">
                                            <th mat-header-cell *matHeaderCellDef>Type of Employement</th>
                                            <td mat-cell *matCellDef="let element;let i= index;">
                                                {{element.employementTypeName}}
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="deptName">
                                            <th mat-header-cell *matHeaderCellDef>Department Name</th>
                                            <td mat-cell *matCellDef="let element;let i= index;">
                                                {{element.deptName}}
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="officeName">
                                            <th mat-header-cell *matHeaderCellDef>Office Name</th>
                                            <td mat-cell *matCellDef="let element;let i= index;">
                                                {{element.officeName}}
                                            </td>
                                        </ng-container>

                                        <ng-container matColumnDef="officeAdd">
                                            <th mat-header-cell *matHeaderCellDef class="gray-color">Office Address
                                            </th>
                                            <td mat-cell *matCellDef="let element">
                                                {{element.officeAdd}}
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="empDesignationHist">
                                            <th mat-header-cell *matHeaderCellDef class="gray-color">Designation
                                            </th>
                                            <td mat-cell *matCellDef="let element">
                                                {{element.empDesignationHist}}
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="fromDate">
                                            <th mat-header-cell *matHeaderCellDef class="gray-color">From Date</th>
                                            <td mat-cell *matCellDef="let element" class="word-break-unset">
                                                {{element.fromDate | date: 'dd/MM/yyyy'}}
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="toDate">
                                            <th mat-header-cell *matHeaderCellDef class="gray-color">To Date</th>
                                            <td mat-cell *matCellDef="let element" class="word-break-unset">
                                                {{element.toDate | date: 'dd/MM/yyyy'}}
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="lastPayDrawn">
                                            <th mat-header-cell *matHeaderCellDef class="gray-color">Last Pay Drawn
                                            </th>
                                            <td mat-cell *matCellDef="let element">
                                                {{element.lastPayDrawn}}
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="empServiceContinuationName">
                                            <th mat-header-cell *matHeaderCellDef class="gray-color">Is Service
                                                Continuation ?</th>
                                            <td mat-cell *matCellDef="let element">
                                                {{element.empServiceContinuationName}}
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="orderNoDate">
                                            <th mat-header-cell *matHeaderCellDef class="gray-color">Order Number and
                                                Date</th>
                                            <td mat-cell *matCellDef="let element">
                                                {{element.orderNoDate}}
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="action">
                                            <th mat-header-cell *matHeaderCellDef> Action </th>
                                            <td mat-cell *matCellDef="let element;let i = index;"
                                                class="action-btn-i centerAlign">
                                                <a (click)="deleteEmpHistory(element.employeHistroyId, i)">
                                                    <i class="material-icons plus delete"
                                                        *ngIf="action != 'view'">delete</i>
                                                </a>
                                            </td>
                                        </ng-container>
                                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                        <tr mat-row *matRowDef="let row; columns: displayedColumns;let i= index;">
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-action-button">
                        <button type="button" mat-raised-button color="primary" (click)="gotoPrevious(1)"
                            *ngIf="action !== 'view' && dialogOpen == false">
                            <i class="material-icons" title="Next">chevron_left</i>
                            Previous
                        </button>
                        <button type="button" mat-raised-button (click)="goToDashboard()" class="btnClose">
                            <i class="material-icons" title="Dashboard"> close </i>
                            Close
                        </button>
                        <button type="button" mat-raised-button color="accent" (click)="viewWorkflowHistory()"
                            *ngIf="!isSaveDraftVisible && dialogOpen == false">
                            <i class="material-icons " title="View Comments">remove_red_eye</i>
                            View Comments
                        </button>
                        <button type="button" mat-raised-button color="warn" (click)="goToListing()"
                            *ngIf="dialogOpen == false">
                            <i class="material-icons" aria-hidden="true" title="Listing">list</i>
                            Listing
                        </button>
                        <button type="button" mat-raised-button color="accent" (click)="resetTab(3)"
                            *ngIf="action !== 'view' && dialogOpen == false">
                            <i class="material-icons"> restore </i>
                            Reset
                        </button>
                        <button type="button" mat-raised-button color="primary" (click)="saveDeptDetails('DRAFT')" [disabled]="isDeptSaveDisabled"
                            *ngIf="isSaveDraftVisible && action !== 'view' && dialogOpen == false">
                            <i class="material-icons" title="Save">save </i>
                            Save as Draft
                        </button>
                        <button type="button" mat-raised-button color="primary" (click)="saveDeptDetails('SUBMIT')" [disabled]="isDeptSaveDisabled"
                            *ngIf="action !== 'view' && dialogOpen == false">
                            {{(ddoEditable || adminEditable) ? 'Next' : 'Save & Next'}}
                            <i class="material-icons" title="Next">chevron_right</i>
                        </button>
                    </div>
                </mat-tab>
                <mat-tab label="Pay Details" [disabled]="isTabDisabled">
                    <div class="box box-primary">
                        <div class="box-header">Joining Pay Details</div>
                        <div class="box box-primary joining-pay-commission" *ngIf="isJoiningFixPay">
                            <div class="box-header">Fix Pay &nbsp;({{errorMessages.JOINING_LABEL}})</div>
                            <div class="box-body">
                                <form [formGroup]="joiningFixPayDetail" autocomplete="off">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select id="fixPay" formControlName="joinFixPayValue"
                                                placeholder="Fix Pay Value" required [title]="getTitleName(joiningFixPayDetail, fixPayList, 'joinFixPayValue', 'lookupInfoId', 'lookupInfoName')">
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="joinFixPayValueCtrl"
                                                            [placeholderLabel]="'Find Fix Pay Value...'"
                                                            [noEntriesFoundLabel]="'no matching Fix Pay Value found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngIf="!fixPayList || fixPayList.length === 0">
                                                        No Fix Pay available
                                                    </mat-option>
                                                    <mat-option [title]="fixPay.lookupInfoName"
                                                        *ngFor="let fixPay of fixPayList | filterSelectInput: joinFixPayValueCtrl.value : 'lookupInfoName'"
                                                        [value]="fixPay.lookupInfoId">
                                                        {{fixPay.lookupInfoName}}
                                                    </mat-option>
                                                </mat-select>
                                                <error-messages [errorMessages]="{'required': errorMessages.FIX_PAY_VALUE}" [control]="joiningFixPayDetail.get('joinFixPayValue')"></error-messages>
                                            </mat-form-field>
                                        </div>                                        
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="box box-primary joining-pay-commission" *ngIf="isJoining1stPay">
                            <div class="box-header">1st Pay Commission &nbsp;({{errorMessages.JOINING_LABEL}})</div>
                            <div class="box-body">
                                <form [formGroup]="joining1stPayDetail" autocomplete="off">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <input matInput id="join1stScale" type="text" numbersWithHyphenOnly maxlength="50" placeholder="Scale"  formControlName="join1stScale" required>
                                                <error-messages [errorMessages]="{'required': errorMessages.ENTER_PAY_SCALE}" [control]="joining1stPayDetail.get('join1stScale')"></error-messages>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <input matInput id="join1stBasicPay" type="text" numbersOnly maxlength="8" placeholder="Basic Pay"  formControlName="join1stBasicPay" required>
                                                <error-messages [errorMessages]="{'required': errorMessages.BASIC_PAY_FORTH_FIFTH}" [control]="joining1stPayDetail.get('join1stBasicPay')"></error-messages>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="box box-primary joining-pay-commission" *ngIf="isJoining2ndPay">
                            <div class="box-header">2nd Pay Commission &nbsp;({{errorMessages.JOINING_LABEL}})</div>
                            <div class="box-body">
                                <form [formGroup]="joining2ndPayDetail" autocomplete="off">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <input matInput id="join2ndScale" type="text" numbersWithHyphenOnly maxlength="50" placeholder="Scale"  formControlName="join2ndScale" required>
                                                <error-messages [errorMessages]="{'required': errorMessages.ENTER_PAY_SCALE}" [control]="joining2ndPayDetail.get('join2ndScale')"></error-messages>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <input matInput id="join2ndBasicPay" type="text" numbersOnly maxlength="8" placeholder="Basic Pay"  formControlName="join2ndBasicPay" required>
                                                <error-messages [errorMessages]="{'required': errorMessages.BASIC_PAY_FORTH_FIFTH}" [control]="joining2ndPayDetail.get('join2ndBasicPay')"></error-messages>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="box box-primary joining-pay-commission" *ngIf="isJoining3rdPay">
                            <div class="box-header">3rd Pay Commission &nbsp;({{errorMessages.JOINING_LABEL}})</div>
                            <div class="box-body">
                                <form [formGroup]="joining3rdPayDetail" autocomplete="off">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select id="join3rdScale" formControlName="join3rdScale"
                                                placeholder="Scale" (selectionChange)="validate3rdBasicPayRange(joining3rdPayDetail.get('join3rdScale'))" required [title]="getTitleName(joining3rdPayDetail, join3rdScaleList, 'join3rdScale', 'id', 'name')">
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="join3rdScaleCtrl"
                                                            [placeholderLabel]="'Find Scale...'"
                                                            [noEntriesFoundLabel]="'no matching Scale found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngIf="!join3rdScaleList || join3rdScaleList.length === 0">
                                                        No Scale available
                                                    </mat-option>
                                                    <mat-option [title]="scale.name"
                                                        *ngFor="let scale of join3rdScaleList | filterSelectInput: join3rdScaleCtrl.value : 'name'"
                                                        [value]="scale.id">
                                                        {{scale.name}}
                                                    </mat-option>
                                                </mat-select>
                                                <error-messages [errorMessages]="{'required': errorMessages.PAY_SCALE}" [control]="joining3rdPayDetail.get('join3rdScale')"></error-messages>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <input matInput id="join3rdBasicPay" type="text" numbersOnly maxlength="8" placeholder="Basic Pay" formControlName="join3rdBasicPay" (blur)="validate3rdBasicPayRange(joining3rdPayDetail.get('join3rdScale'))" required>
                                                <error-messages [errorMessages]="{'required': errorMessages.BASIC_PAY_FORTH_FIFTH}" [control]="joining3rdPayDetail.get('join3rdBasicPay')"></error-messages>
                                                <div class="error-wrapper" *ngIf="join3rdBasicPayError">
                                                    <mat-error>
                                                        {{errorMessages.BASIC_PAY_RANGE}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="box box-primary joining-pay-commission" *ngIf="isJoining4thPay">
                            <div class="box-header">4th Pay Commission &nbsp;({{errorMessages.JOINING_LABEL}})</div>
                            <div class="box-body">
                                <form [formGroup]="joining4thPayDetail" autocomplete="off">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select id="join4thScale" formControlName="join4thScale"
                                                placeholder="Scale" (selectionChange)="validate4thBasicPayRange(joining4thPayDetail.get('join4thScale'), 'join')" required
                                                [title]="getTitleName(joining4thPayDetail, fourPayScaleList, 'join4thScale', 'id', 'name')">
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="join4thScaleCtrl"
                                                            [placeholderLabel]="'Find Scale...'"
                                                            [noEntriesFoundLabel]="'no matching Scale found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngIf="!fourPayScaleList || fourPayScaleList.length === 0">
                                                        No Scale available
                                                    </mat-option>
                                                    <mat-option [title]="scale.name"
                                                        *ngFor="let scale of fourPayScaleList | filterSelectInput: join4thScaleCtrl.value : 'name'"
                                                        [value]="scale.id">
                                                        {{scale.name}}
                                                    </mat-option>
                                                </mat-select>
                                                <error-messages [errorMessages]="{'required': errorMessages.PAY_SCALE}" [control]="joining4thPayDetail.get('join4thScale')"></error-messages>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <input matInput id="join4thBasicPay" type="text" numbersOnly maxlength="8" placeholder="Basic Pay"  formControlName="join4thBasicPay"
                                                (blur)="validate4thBasicPayRange(joining4thPayDetail.get('join4thScale'), 'join')"
                                                required>
                                                <error-messages [errorMessages]="{'required': errorMessages.BASIC_PAY_FORTH_FIFTH}" [control]="joining4thPayDetail.get('join4thBasicPay')">
                                                </error-messages>
                                                <div class="error-wrapper" *ngIf="join4thBasicPayError">
                                                    <mat-error>
                                                        {{errorMessages.BASIC_PAY_RANGE}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="box box-primary joining-pay-commission" *ngIf="isJoining5thPay">
                            <div class="box-header">5th Pay Commission &nbsp;({{errorMessages.JOINING_LABEL}})</div>
                            <div class="box-body">
                                <form [formGroup]="joining5thPayDetail" autocomplete="off">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select id="join5thScale" formControlName="join5thScale"
                                                placeholder="Scale" required (selectionChange)="validate5thBasicPayRange(joining5thPayDetail.get('join5thScale'), 'join')"
                                                placeholder="Pay Scale" required
                                                [title]="getTitleName(joining5thPayDetail, fivePayScaleList, 'join5thScale', 'id', 'name')">
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="join5thScaleCtrl"
                                                            [placeholderLabel]="'Find Scale...'"
                                                            [noEntriesFoundLabel]="'no matching Scale found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngIf="!fivePayScaleList || fivePayScaleList.length === 0">
                                                        No Scale available
                                                    </mat-option>
                                                    <mat-option [title]="scale.name"
                                                        *ngFor="let scale of fivePayScaleList | filterSelectInput: join5thScaleCtrl.value : 'name'"
                                                        [value]="scale.id">
                                                        {{scale.name}}
                                                    </mat-option>
                                                </mat-select>
                                                <error-messages [errorMessages]="{'required': errorMessages.PAY_SCALE}" [control]="joining5thPayDetail.get('join5thScale')"></error-messages>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <input matInput id="join5thBasicPay" type="text" numbersOnly maxlength="8" placeholder="Basic Pay"  formControlName="join5thBasicPay" (blur)="validate5thBasicPayRange(joining5thPayDetail.get('join5thScale'), 'join')" required>
                                                <error-messages
                                                    [errorMessages]="{'required': errorMessages.BASIC_PAY_FORTH_FIFTH}"
                                                    [control]="joining5thPayDetail.get('join5thBasicPay')">
                                                </error-messages>
                                                <div class="error-wrapper" *ngIf="join5thBasicPayError">
                                                    <mat-error>
                                                        {{errorMessages.BASIC_PAY_RANGE}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="box box-primary joining-pay-commission" *ngIf="isJoining6thPay">
                            <div class="box-header">6th Pay Commission &nbsp;({{errorMessages.JOINING_LABEL}})</div>
                            <div class="box-body">
                                <form [formGroup]="joining6thPayDetail" autocomplete="off">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select id="join6thPayBand" formControlName="join6thPayBand"
                                                placeholder="Pay Band" (selectionChange)="onJoining6thPayBandChange();" [title]="getTitleName(joining6thPayDetail, join6thPayBandList, 'join6thPayBand', 'id', 'payBandName')" required>
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="join6thPayBandCtrl"
                                                            [placeholderLabel]="'Find Pay Band...'"
                                                            [noEntriesFoundLabel]="'no matching Pay Band found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngIf="!join6thPayBandList || join6thPayBandList.length === 0">
                                                        No Pay Band available
                                                    </mat-option>
                                                    <mat-option [title]="payBand.payBandName"
                                                        *ngFor="let payBand of join6thPayBandList | filterSelectInput: join6thPayBandCtrl.value : 'payBandName'"
                                                        [value]="payBand.id">
                                                        {{payBand.payBandName}}
                                                    </mat-option>
                                                </mat-select>
                                                <error-messages [errorMessages]="{'required': errorMessages.PAY_BAND}" [control]="joining6thPayDetail.get('join6thPayBand')"></error-messages>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <input matInput id="join6thPayBandValue" type="text" numbersOnly maxlength="8" placeholder="Pay Band Value"  formControlName="join6thPayBandValue" (keyup)="calJoining6thBasicPay()" (blur)="validate6thPreRevisedRange(joining6thPayDetail.get('join6thPayBand'), 'join')">
                                                <div class="error-wrapper" *ngIf="join6thBasicPayError">
                                                    <mat-error>
                                                        {{errorMessages.BASIC_PAY_BAND_RANGE}}
                                                    </mat-error>
                                                </div>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select id="join6thGradePay" formControlName="join6thGradePay"
                                                placeholder="Grade Pay" (selectionChange)="onJoiningGradePayChange()" required>
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="join6thGradePayCtrl"
                                                            [placeholderLabel]="'Find Grade Pay...'"
                                                            [noEntriesFoundLabel]="'no matching Grade Pay found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngIf="!join6thGradePayList || join6thGradePayList.length === 0">
                                                        No Grade Pay available
                                                    </mat-option>
                                                    <mat-option [title]="gradePay.gradePayValue"
                                                        *ngFor="let gradePay of join6thGradePayList | filterSelectInput: join6thGradePayCtrl.value : 'gradePayValue'"
                                                        [value]="gradePay.id">
                                                        {{gradePay.gradePayValue}}
                                                    </mat-option>
                                                </mat-select>
                                                <error-messages [errorMessages]="{'required': errorMessages.GRAD_PAY}" [control]="joining6thPayDetail.get('join6thGradePay')"></error-messages>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <input matInput id="join6thBasicPay" type="text" numbersOnly maxlength="8" placeholder="Basic Pay"  formControlName="join6thBasicPay" readonly>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="box box-primary joining-pay-commission" *ngIf="isJoining7thPay">
                            <div class="box-header">7th Pay Commission &nbsp;({{errorMessages.JOINING_LABEL}})</div>
                            <div class="box-body">
                                <form [formGroup]="joining7thPayDetail" autocomplete="off">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select id="join7thPayLevel" formControlName="join7thPayLevel"
                                                placeholder="Pay Level" (selectionChange)="get7thCellId()" required [title]="getTitleName(joining7thPayDetail, join7thPayLevelList, 'join7thPayLevel', 'id', 'payLevelValue')">
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="join7thPayLevelCtrl"
                                                            [placeholderLabel]="'Find Pay Level...'"
                                                            [noEntriesFoundLabel]="'no matching Pay Level found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngIf="!join7thPayLevelList || join7thPayLevelList.length === 0">
                                                        No Pay Level available
                                                    </mat-option>
                                                    <mat-option [title]="payLevel.payLevelValue"
                                                        *ngFor="let payLevel of join7thPayLevelList | filterSelectInput: join7thPayLevelCtrl.value : 'payLevelValue'"
                                                        [value]="payLevel.id">
                                                        {{payLevel.payLevelValue}}
                                                    </mat-option>
                                                </mat-select>
                                                <error-messages [errorMessages]="{'required': errorMessages.PAY_LEVEL}" [control]="joining7thPayDetail.get('join7thPayLevel')"></error-messages>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <mat-select id="join7thCellId" formControlName="join7thCellId"
                                                placeholder="Cell Id" required (selectionChange)="calcJoining7thBasicPay()" 
                                                [title]="getTitleName(joining7thPayDetail, join7thCellIdList, 'join7thCellId', 'id', 'cellId')">
                                                    <mat-option>
                                                        <ngx-mat-select-search [formControl]="join7thCellIdCtrl"
                                                            [placeholderLabel]="'Find Cell Id...'"
                                                            [noEntriesFoundLabel]="'no matching Cell Id found'">
                                                        </ngx-mat-select-search>
                                                    </mat-option>
                                                    <mat-option *ngIf="!join7thCellIdList || join7thCellIdList.length === 0">
                                                        No Cell Id available
                                                    </mat-option>
                                                    <mat-option [title]="cellId.cellId"
                                                        *ngFor="let cellId of join7thCellIdList | filterSelectInput: join7thCellIdCtrl.value : 'cellId'"
                                                        [value]="cellId.id">
                                                        {{cellId.cellId}}
                                                    </mat-option>
                                                </mat-select>
                                                <error-messages [errorMessages]="{'required': errorMessages.CELL_ID}" [control]="joining7thPayDetail.get('join7thCellId')"></error-messages>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-3">
                                            <mat-form-field class="full-width">
                                                <input matInput id="join7thBasicPay" type="text" numbersOnly placeholder="Basic Pay"  formControlName="join7thBasicPay" readonly>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="box box-primary">
                        <div class="box-header">Bank Details</div>
                        <div class="box-body">
                            <form [formGroup]="bankDetailsForm" autocomplete="off">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <mat-select id="accountType" formControlName="accountType"
                                                placeholder="Account Type" [title]="getTitleName(bankDetailsForm, accountTypeList, 'accountType', 'lookupInfoId', 'lookupInfoName')" required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="accountTypeCtrl"
                                                        [placeholderLabel]="'Find Account Type'"
                                                        [noEntriesFoundLabel]="'no matching Account Type found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngIf="!accountTypeList || accountTypeList.length === 0">
                                                    No Account Type available
                                                </mat-option>
                                                <mat-option [title]="account.lookupInfoName"
                                                    *ngFor="let account of accountTypeList  | filterSelectInput: accountTypeCtrl.value : 'lookupInfoName'"
                                                    [value]="account.lookupInfoId">
                                                    {{account.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.ACCOUNT_TYPE}"
                                                [control]="bankDetailsForm.get('accountType')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select id="ifscCode" formControlName="ifscCode"
                                                placeholder="IFSC" required (selectionChange)="ifscCodeChange()"
                                                [title]="getTitleName(bankDetailsForm, ifscCodeList, 'ifscCode', 'id', 'code')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="ifscCodeCtrl"
                                                        [placeholderLabel]="'Find IFSC'"
                                                        [noEntriesFoundLabel]="'no matching IFSC found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngIf="!ifscCodeList || ifscCodeList.length === 0">
                                                    No IFSC available
                                                </mat-option>
                                                <mat-option [title]="ifsc.code"
                                                    *ngFor="let ifsc of ifscCodeList  | filterSelectInput: ifscCodeCtrl.value : 'code'"
                                                    [value]="ifsc.id">
                                                    {{ifsc.code}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.IFSC_CODE}"
                                                [control]="bankDetailsForm.get('ifscCode')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput id="bankName" formControlName="bankName" placeholder="Bank Name" readonly>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3 address">
                                        <mat-form-field>
                                            <textarea matInput maxlength="200" id="bankAddress" formControlName="bankAddress" placeholder="Bank Branch Address" readonly></textarea>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput id="bankAccNo1" alphaNumericWithUpperCaseOnly type="password" formControlName="bankAccNo1" placeholder="Bank Account Number" required minlength="5" maxlength="25" (change)="validateAccNo()" autocomplete="off">
                                            <error-messages [errorMessages]="{'required': errorMessages.BANK_ACC_NO}"
                                                [control]="bankDetailsForm.get('bankAccNo1')">
                                            </error-messages>
                                            <div class="error-wrapper"
                                                *ngIf="bankDetailsForm.controls.bankAccNo1.value && bankDetailsForm.controls.bankAccNo1.touched && bankDetailsForm.controls.bankAccNo1.errors">
                                                <mat-error
                                                    *ngIf="bankDetailsForm.controls.bankAccNo1.errors.min && bankDetailsForm.controls.bankAccNo1.errors.pattern.max">
                                                    {{errorMessages.VALID_BANK_ACC_NO}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput id="bankAccNo2" alphaNumericWithUpperCaseOnly type="text" formControlName="bankAccNo2" placeholder="Re-Enter Bank Account Number" required minlength="5" maxlength="25" (change)="validateAccNo()">
                                            <error-messages [errorMessages]="{'required': errorMessages.BANK_ACC_NO}"
                                                [control]="bankDetailsForm.get('bankAccNo2')">
                                            </error-messages>
                                            <div class="error-wrapper"
                                                *ngIf="bankDetailsForm.controls.bankAccNo2.value && bankDetailsForm.controls.bankAccNo2.touched && bankDetailsForm.controls.bankAccNo2.errors">
                                                <mat-error
                                                    *ngIf="bankDetailsForm.controls.bankAccNo2.errors.min && bankDetailsForm.controls.bankAccNo2.errors.max">
                                                    {{errorMessages.VALID_BANK_ACC_NO}}
                                                </mat-error>
                                            </div>
                                            <div class="error-wrapper" *ngIf="!isAccNoMatch">
                                                <mat-error>
                                                    {{errorMessages.ACC_NO_NOT_MATCH}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="box box-primary">
                        <div class="box-header">Fix Pay Detail &nbsp;({{errorMessages.CURRENT_LABEL}})</div>
                        <div class="box-body">
                            <form [formGroup]="createFixPayDetail" autocomplete="off">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select id="fixPayValue" formControlName="fixPayValue"
                                                placeholder="Fix Pay Value" required
                                                [title]="getTitleName(createFixPayDetail, fixPayList, 'fixPayValue', 'lookupInfoId', 'lookupInfoName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="fixPayValueCtrl"
                                                        [placeholderLabel]="'Find fix pay value'"
                                                        [noEntriesFoundLabel]="'no matching fix pay value found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngIf="!fixPayList || fixPayList.length === 0">
                                                    No Fix Pay available
                                                </mat-option>
                                                <mat-option [title]="fxpay.lookupInfoName"
                                                    *ngFor="let fxpay of fixPayList  | filterSelectInput: fixPayValueCtrl.value : 'lookupInfoName'"
                                                    [value]="fxpay.lookupInfoId">
                                                    {{fxpay.lookupInfoName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.FIX_PAY_VALUE}"
                                                [control]="createFixPayDetail.get('fixPayValue')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput id="fixPayEffDate" formControlName="effDate"
                                                [min]="joiningDateGog" [matDatepicker]="effDate"
                                                placeholder="Effective Date" required>
                                            <mat-datepicker-toggle matSuffix [for]="effDate">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #effDate></mat-datepicker>
                                            <error-messages [errorMessages]="{'required': errorMessages.EFFECTIVE_DATE}"
                                                [control]="createFixPayDetail.get('effDate')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="box box-primary" *ngIf="!hide4thPayCommission">
                        <div class="box-header">4th Pay Commission Detail &nbsp;({{errorMessages.CURRENT_LABEL}})</div>
                        <div class="box-body">
                            <form [formGroup]="create4thPayDetails" autocomplete="off">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select id="fourthPayScale" formControlName="payScale"
                                                placeholder="Pay Scale"
                                                (selectionChange)="validate4thBasicPayRange(create4thPayDetails.get('payScale'), 'current')"
                                                required
                                                [title]="getTitleName(create4thPayDetails, fourPayScaleList, 'payScale', 'id', 'name')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="payScaleCtrl"
                                                        [placeholderLabel]="'Find Pay Scale...'"
                                                        [noEntriesFoundLabel]="'no matching Pay Scale found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngIf="!fourPayScaleList || fourPayScaleList.length === 0">
                                                    No Pay Scale available
                                                </mat-option>
                                                <mat-option [title]="payScale.name"
                                                    *ngFor="let payScale of fourPayScaleList | filterSelectInput: payScaleCtrl.value : 'name'"
                                                    [value]="payScale.id">
                                                    {{payScale.name}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.PAY_SCALE}"
                                                [control]="create4thPayDetails.get('payScale')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput id="fourthBasicPay" type="text" numbersOnly
                                                placeholder="Basic Pay" value="" maxlength="20"
                                                formControlName="basicPay"
                                                (blur)="validate4thBasicPayRange(create4thPayDetails.get('payScale'), 'current')"
                                                required>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.BASIC_PAY_FORTH_FIFTH}"
                                                [control]="create4thPayDetails.get('basicPay')">
                                            </error-messages>
                                            <div class="error-wrapper" *ngIf="fourthBasicPayError">
                                                <mat-error>
                                                    {{errorMessages.BASIC_PAY_RANGE}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput id="fourthEffectiveDate" formControlName="effectiveDate"
                                                [min]="minDate4th" [matDatepicker]="dateOfEffective"
                                                placeholder="Effective Date" readonly required>
                                            <mat-datepicker-toggle matSuffix [for]="dateOfEffective">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #dateOfEffective></mat-datepicker>
                                            <error-messages [errorMessages]="{'required': errorMessages.EFFECTIVE_DATE}"
                                                [control]="create4thPayDetails.get('effectiveDate')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="box box-primary" *ngIf="!hide5thPayCommission">
                        <div class="box-header">5th Pay Commission Detail &nbsp;({{errorMessages.CURRENT_LABEL}})</div>
                        <div class="box-body">
                            <form [formGroup]="create5thPayDetails" autocomplete="off">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select id="fifthPayScale" formControlName="payScale"
                                                (selectionChange)="validate5thBasicPayRange(create5thPayDetails.get('payScale'), 'current')"
                                                placeholder="Pay Scale" required
                                                [title]="getTitleName(create5thPayDetails, fivePayScaleList, 'payScale', 'id', 'name')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="payScaleCtrl"
                                                        [placeholderLabel]="'Find Pay Scale...'"
                                                        [noEntriesFoundLabel]="'no matching Pay Scale found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngIf="!fivePayScaleList || fivePayScaleList.length === 0">
                                                    No Pay Scale available
                                                </mat-option>
                                                <mat-option [title]="payScale.name"
                                                    *ngFor="let payScale of fivePayScaleList | filterSelectInput: payScaleCtrl.value : 'name'"
                                                    [value]="payScale.id">
                                                    {{payScale.name}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.PAY_SCALE}"
                                                [control]="create5thPayDetails.get('payScale')">
                                            </error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput id="fifthBasicPay" type="text" numbersOnly
                                                placeholder="Basic Pay" value="" maxlength="20"
                                                (blur)="validate5thBasicPayRange(create5thPayDetails.get('payScale'), 'current')"
                                                formControlName="basicPay" required>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.BASIC_PAY_FORTH_FIFTH}"
                                                [control]="create5thPayDetails.get('basicPay')">
                                            </error-messages>
                                            <div class="error-wrapper" *ngIf="fifthBasicPayError">
                                                <mat-error>
                                                    {{errorMessages.BASIC_PAY_RANGE}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput id="fifthEffectiveDate" formControlName="effectiveDate"
                                                [min]="minDate5th" [matDatepicker]="dateOfFifthEffective"
                                                placeholder="Effective Date" (dateChange)="fifthEffectiveDateChange($event)" readonly required>
                                            <mat-datepicker-toggle matSuffix [for]="dateOfFifthEffective">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #dateOfFifthEffective></mat-datepicker>
                                            <error-messages [errorMessages]="{'required': errorMessages.EFFECTIVE_DATE}"
                                                [control]="create5thPayDetails.get('effectiveDate')">
                                            </error-messages>
                                            <div class="error-wrapper" *ngIf="create5thPayDetails.controls.effectiveDate.value">
                                                <mat-error *ngIf="create5thPayDetails.controls.effectiveDate.errors && create5thPayDetails.controls.effectiveDate.errors.matDatepickerMin">
                                                    {{errorMessages.SELECT_VALID_DATE}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput id="fifthDateOfNextIncrement"
                                                formControlName="dateOfNextIncrement"
                                                [matDatepicker]="fifthDateOfNextIncrement" [min]="min5thNextIncDate"
                                                placeholder="Date of Next Increment" readonly required>
                                            <mat-datepicker-toggle matSuffix [for]="fifthDateOfNextIncrement">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #fifthDateOfNextIncrement></mat-datepicker>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.DATE_OF_NEXT_INCREMENT}"
                                                [control]="create5thPayDetails.get('dateOfNextIncrement')">
                                            </error-messages>
                                            <div class="error-wrapper" *ngIf="create5thPayDetails.controls.dateOfNextIncrement.value">
                                                <mat-error *ngIf="create5thPayDetails.controls.dateOfNextIncrement.errors && create5thPayDetails.controls.dateOfNextIncrement.errors.matDatepickerMin">
                                                    {{errorMessages.SELECT_VALID_DATE}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="box box-primary sixthpay">
                        <div class="box-header">6th Pay Detail &nbsp;({{errorMessages.CURRENT_LABEL}})</div>
                        <div class="box-body">
                            <form [formGroup]="create6thPayDetails" autocomplete="off">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select id="sixEmpDesignationAsOn" formControlName="empDesignationAsOn"
                                                placeholder="Designation as on 01.01.2006"
                                                [title]="getTitleName(create6thPayDetails, empDesignationAsOnList, 'empDesignationAsOn', 'designationId', 'designationName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="empDesignationAsOnCtrl"
                                                        [placeholderLabel]="'Find Designation...'"
                                                        [noEntriesFoundLabel]="'no matching Pay Designation found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngIf="!empDesignationAsOnList || empDesignationAsOnList.length === 0">
                                                    No Pay Designation available
                                                </mat-option>
                                                <mat-option [title]="empDesignationAsOn.name"
                                                    *ngFor="let empDesignationAsOn of empDesignationAsOnList | filterSelectInput: empDesignationAsOnCtrl.value : 'designationName'"
                                                    [value]="empDesignationAsOn.designationId">
                                                    {{empDesignationAsOn.designationName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput id="sixEmpOtherDesignation" type="text"
                                                placeholder="If Other Designation" formControlName="empOtherDesignation"
                                                maxlength="100">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select id="sixPreRevisedPayScale" formControlName="preRevisedPayScale"
                                                placeholder="Pre-revised pay scale as on 01.01.2006"
                                                [title]="getTitleName(create6thPayDetails, preRevisedPayScaleList, 'preRevisedPayScale', 'id', 'name')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="preRevisedPayScaleCtrl"
                                                        [placeholderLabel]="'Find Pre-revised pay scale...'"
                                                        [noEntriesFoundLabel]="'no matching Pre-revised pay scale found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngIf="!preRevisedPayScaleList || preRevisedPayScaleList.length === 0">
                                                    No Pre-revised pay scale available
                                                </mat-option>
                                                <mat-option [title]="preRevisedPayScale.name"
                                                    *ngFor="let preRevisedPayScale of preRevisedPayScaleList | filterSelectInput: preRevisedPayScaleCtrl.value : 'name'"
                                                    [value]="preRevisedPayScale.id">
                                                    {{preRevisedPayScale.name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput id="sixPreRevisedBasicPay" type="text" numbersOnly
                                                placeholder="Pre-revised pay as on 01.01.2006"
                                                formControlName="preRevisedBasicPay" maxlength="7">
                                            <!-- <error-messages
                                                [errorMessages]="{'required': errorMessages.PREREVISED_BASICPAY}"
                                                [control]="create6thPayDetails.get('preRevisedBasicPay')">
                                            </error-messages> -->
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select id="sixRevisedPayBand" formControlName="revisedPayBand"
                                                placeholder="Revised Pay Band (6th Pay Commission)"
                                                (selectionChange)="on6thPayBandChange()"
                                                [required] = 'req6th'
                                                [title]="getTitleName(create6thPayDetails, sixPayGrade, 'revisedPayBand', 'id', 'payBandName')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="revisedPayBandCtrl"
                                                        [placeholderLabel]="'Find Revised Pay Band...'"
                                                        [noEntriesFoundLabel]="'no matching Revised Pay Band found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngIf="!sixPayGrade || sixPayGrade.length === 0">
                                                    No Revised Pay Band available
                                                </mat-option>
                                                <mat-option [title]="revisdPayBand.payBandName"
                                                    *ngFor="let revisdPayBand of sixPayGrade | filterSelectInput: revisedPayBandCtrl.value : 'payBandName'"
                                                    [value]="revisdPayBand.id">
                                                    {{revisdPayBand.payBandName}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.REVISED_PAYBAND}"
                                                [control]="create6thPayDetails.get('revisedPayBand')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="example-full-width">
                                            <input matInput id="sixPayBandValue" maxlength="5" [required] = 'req6th'
                                                formControlName="payBandValue" numbersOnly
                                                placeholder="Pay Band Value (6th Pay Commission)"
                                                (keyup)="calculateBasicPay()"
                                                (blur)="validate6thPreRevisedRange(create6thPayDetails.get('revisedPayBand'), 'current')">
                                            <div class="error-wrapper" *ngIf="sixthBasicPayError">
                                                <mat-error>
                                                    {{errorMessages.BASIC_PAY_BAND_RANGE}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select id="sixGradePay" formControlName="gradePay"
                                                placeholder="Grade Pay" (selectionChange)="onGradePayChange()" [required] = 'req6th'
                                                [title]="getTitleName(create6thPayDetails, gradePayList, 'gradePay', 'id', 'gradePayValue')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="gradePayCtrl"
                                                        [placeholderLabel]="'Find Grade Pay...'"
                                                        [noEntriesFoundLabel]="'no matching Grade Pay found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngIf="!gradePayList || gradePayList.length === 0">
                                                    No Grade Pay available
                                                </mat-option>
                                                <mat-option [title]="gradePay.gradePayValue"
                                                    *ngFor="let gradePay of gradePayList | filterSelectInput: gradePayCtrl.value : 'gradePayValue'"
                                                    [value]="gradePay.id">
                                                    {{gradePay.gradePayValue}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.GRAD_PAY}"
                                                [control]="create6thPayDetails.get('gradePay')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="example-full-width">
                                            <strong><input matInput id="sixBasicPay" placeholder="Basic Pay (PB+GP)"
                                                    formControlName="basicPay" readonly></strong>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput id="sixDateOfPreRevisedNextIncrement"
                                                formControlName="dateOfPreRevisedNextIncrement"
                                                [matDatepicker]="dateOfPreRevisedNextIncrement"
                                                placeholder="Date of next increment in pre-revised Scale" readonly>
                                            <mat-datepicker-toggle matSuffix [for]="dateOfPreRevisedNextIncrement">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #dateOfPreRevisedNextIncrement disabled></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput id="sixDateOfOption" formControlName="dateOfOption"
                                                [matDatepicker]="dateOfOption" placeholder="Option Date"
                                                [min]="minDate6th" readonly class="w-75">
                                            <i *ngIf="create6thPayDetails.get('dateOfOption').value && (action !== 'view')"
                                                class="material-icons clear-date"
                                                (click)="clearDate(create6thPayDetails, 'dateOfOption')"
                                                title="Clear Date">close</i>
                                            <mat-datepicker-toggle matSuffix [for]="dateOfOption">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #dateOfOption></mat-datepicker>
                                            <error-messages [errorMessages]="{'required': errorMessages.OPTN_DATE}"
                                                [control]="create6thPayDetails.get('dateOfOption')">
                                            </error-messages>
                                            <div class="error-wrapper" *ngIf="create6thPayDetails.controls.dateOfOption.value">
                                                <mat-error *ngIf="create6thPayDetails.controls.dateOfOption.errors && create6thPayDetails.controls.dateOfOption.errors.matDatepickerMin">
                                                    {{errorMessages.SELECT_VALID_DATE}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput id="sixDateOfStagnational"
                                                formControlName="dateOfStagnational"
                                                [matDatepicker]="dateOfStagnational" [min]="joiningDateGog"
                                                placeholder="Stagnation Date" readonly class="w-75">
                                            <i *ngIf="create6thPayDetails.get('dateOfStagnational').value && (action !== 'view')"
                                                class="material-icons clear-date"
                                                (click)="clearDate(create6thPayDetails, 'dateOfStagnational')"
                                                title="Clear Date">close</i>
                                            <mat-datepicker-toggle matSuffix [for]="dateOfStagnational">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #dateOfStagnational></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput id="sixIncrementAmount" type="text"
                                                placeholder="Increment Amount" (keypress)="decimalKeyPress($event)"
                                                formControlName="incrementAmount" readonly [required] = 'req6th'>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.INCREMENT_AMOUNT}"
                                                [control]="create6thPayDetails.get('incrementAmount')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput id="sixEffDate" formControlName="effDate" 
                                                [matDatepicker]="sixthEffDate" [min]="minDate6th" placeholder="Effective Date" readonly
                                                [required] = 'req6th'
                                                (dateChange) = 'toggleRequireTag6th()'>
                                            <mat-datepicker-toggle matSuffix [for]="sixthEffDate">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #sixthEffDate></mat-datepicker>
                                            <error-messages [errorMessages]="{'required': errorMessages.EFFECTIVE_DATE}"
                                                [control]="create6thPayDetails.get('effDate')">
                                            </error-messages>
                                            <div class="error-wrapper" *ngIf="create6thPayDetails.controls.effDate.value">
                                                <mat-error *ngIf="create6thPayDetails.controls.effDate.errors && create6thPayDetails.controls.effDate.errors.matDatepickerMin">
                                                    {{errorMessages.SELECT_VALID_DATE}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput id="sixDateOfNextIncrement"
                                                formControlName="dateOfNextIncrement"
                                                [matDatepicker]="sixDateOfNextIncrement" [min]="minDate6th"
                                                [matDatepickerFilter]="sixthDateOfNextIncrFilter"
                                                (dateChange) = 'toggleRequireTag6th()'
                                                placeholder="Date of Next Increment" readonly [required] = 'req6th'>
                                            <mat-datepicker-toggle matSuffix [for]="sixDateOfNextIncrement">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #sixDateOfNextIncrement></mat-datepicker>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.DATE_OF_NEXT_INCREMENT}"
                                                [control]="create6thPayDetails.get('dateOfNextIncrement')">
                                            </error-messages>
                                            <div class="error-wrapper" *ngIf="create6thPayDetails.controls.dateOfNextIncrement.value">
                                                <mat-error *ngIf="create6thPayDetails.controls.dateOfNextIncrement.errors && create6thPayDetails.controls.dateOfNextIncrement.errors.matDatepickerMin">
                                                    {{errorMessages.SELECT_VALID_DATE}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="box box-primary">
                        <div class="box-header">7th Pay Detail &nbsp;({{errorMessages.CURRENT_LABEL}})</div>
                        <div class="box-body">
                            <form [formGroup]="create7thPayDetails" autocomplete="off">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select id="sevenPayLevel" formControlName="payLevel"
                                                (selectionChange)="get7thCPCBasicPay()" placeholder="Pay level" [required] = 'req7th'
                                                [title]="getTitleName(create7thPayDetails, payLevelList, 'payLevel', 'id', 'payLevelValue')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="payLevelCtrl"
                                                        [placeholderLabel]="'Find Pay level...'"
                                                        [noEntriesFoundLabel]="'no matching Pay level found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngIf="!payLevelList || payLevelList.length === 0">
                                                    No Pay level available
                                                </mat-option>
                                                <mat-option [title]="payLevel.payLevelValue"
                                                    *ngFor="let payLevel of payLevelList | filterSelectInput: payLevelCtrl.value : 'payLevelValue'"
                                                    [value]="payLevel.id">
                                                    {{payLevel.payLevelValue}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.PAY_LEVEL}"
                                                [control]="create7thPayDetails.get('payLevel')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <mat-select id="sevenCellId" formControlName="cellId"
                                                (selectionChange)="onCellChange()" placeholder="Cell Id" [required] = 'req7th'
                                                [title]="getTitleName(create7thPayDetails, cellIdList, 'cellId', 'id', 'cellId')">
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="cellIdCtrl"
                                                        [placeholderLabel]="'Find Cell Id...'"
                                                        [noEntriesFoundLabel]="'no matching Cell Id found'">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngIf="!cellIdList || cellIdList.length === 0">
                                                    No Cell Id available
                                                </mat-option>
                                                <mat-option [title]="cell.cellId"
                                                    *ngFor="let cell of cellIdList | filterSelectInput: cellIdCtrl.value : 'cellId'"
                                                    [value]="cell.id">
                                                    {{cell.cellId}}
                                                </mat-option>
                                            </mat-select>
                                            <error-messages [errorMessages]="{'required': errorMessages.CELL_ID}"
                                                [control]="create7thPayDetails.get('cellId')"></error-messages>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field class="full-width">
                                            <input matInput id="sevenBasicPay" type="text" readonly numbersOnly
                                                placeholder="Basic Pay" formControlName="basicPay">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput id="sevenDateOfBenefitEffective"
                                                formControlName="dateOfBenefitEffective"
                                                [matDatepicker]="dateOfBenefitEffective" [min]="minDate7th"
                                                placeholder="Benefit Effective Date" [required] = 'req7th' readonly
                                                (dateChange) = 'toggleRequireTag6th()'>
                                            <mat-datepicker-toggle matSuffix [for]="dateOfBenefitEffective">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #dateOfBenefitEffective></mat-datepicker>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.BENEFIT_EFFECTIVE_DATE}"
                                                [control]="create7thPayDetails.get('dateOfBenefitEffective')">
                                            </error-messages>
                                            <div class="error-wrapper" *ngIf="create7thPayDetails.controls.dateOfBenefitEffective.value">
                                                <mat-error *ngIf="create7thPayDetails.controls.dateOfBenefitEffective.errors && create7thPayDetails.controls.dateOfBenefitEffective.errors.matDatepickerMin">
                                                    {{errorMessages.SELECT_VALID_DATE}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-form-field>
                                            <input matInput id="sevenDateOfNextIncrement"
                                                formControlName="dateOfNextIncrement"
                                                [matDatepicker]="dateOfNextIncrement" [min]="minDate7th"
                                                [matDatepickerFilter]="seventhDateOfNextIncrFilter"
                                                placeholder="Date of Next Increment" readonly [required] = 'req7th'
                                                (dateChange) = 'toggleRequireTag6th()'>
                                            <mat-datepicker-toggle matSuffix [for]="dateOfNextIncrement">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #dateOfNextIncrement></mat-datepicker>
                                            <error-messages
                                                [errorMessages]="{'required': errorMessages.DATE_OF_NEXT_INCREMENT}"
                                                [control]="create7thPayDetails.get('dateOfNextIncrement')">
                                            </error-messages>
                                            <div class="error-wrapper" *ngIf="create7thPayDetails.controls.dateOfNextIncrement.value">
                                                <mat-error *ngIf="create7thPayDetails.controls.dateOfNextIncrement.errors && create7thPayDetails.controls.dateOfNextIncrement.errors.matDatepickerMin">
                                                    {{errorMessages.SELECT_VALID_DATE}}
                                                </mat-error>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="form-action-button">
                        <button type="button" mat-raised-button color="primary" (click)="gotoPrevious(2)"
                            *ngIf="action !== 'view' && dialogOpen == false">
                            <i class="material-icons" title="Next">chevron_left</i>
                            Previous
                        </button>
                        <button type="button" mat-raised-button (click)="goToDashboard()" class="btnClose">
                            <i class="material-icons" title="Dashboard"> close </i>
                            Close
                        </button>
                        <button type="button" mat-raised-button color="accent" (click)="viewWorkflowHistory()"
                            *ngIf="!isSaveDraftVisible && dialogOpen == false">
                            <i class="material-icons " title="View Comments">remove_red_eye</i>
                            View Comments
                        </button>
                        <button type="button" mat-raised-button color="warn" (click)="goToListing()"
                            *ngIf="dialogOpen == false">
                            <i class="material-icons" aria-hidden="true" title="Listing">list</i>
                            Listing
                        </button>
                        <button type="button" mat-raised-button color="accent" (click)="resetTab(4)"
                            *ngIf="action !== 'view' && dialogOpen == false">
                            <i class="material-icons"> restore </i>
                            Reset
                        </button>
                        <button type="button" mat-raised-button class="print-btn"
                            *ngIf="action === 'view' && dialogOpen == false && approvedStatus" (click) = 'onPrint()'>
                            <i class="material-icons" > print </i>
                            Print
                        </button>
                        <button type="submit" mat-raised-button color="primary" (click)="onSavePayDetail('DRAFT')" [disabled]="isPaySaveDisabled"
                            *ngIf="isSaveDraftVisible && action !== 'view' && dialogOpen == false">
                            <i class="material-icons" title="Save">save </i>
                            Save as Draft
                        </button>
                        <button mat-raised-button type="submit" class="green" (click)="onSavePayDetail('SUBMIT')" [disabled]="isPaySaveDisabled"
                            *ngIf="action !== 'view' && dialogOpen == false">
                            <i class="material-icons"> done </i>
                            Submit
                        </button>
                    </div>
                </mat-tab>
                <mat-tab label="Events" [disabled]="!(approvedStatus && action === 'view' && !ddoEditable && !adminEditable)">
                    <app-ec-event #eventTab [empId]="empId" [approvedStatus]="approvedStatus" [action]="action" [loadJoiningDetails]="loadJoiningDetails"></app-ec-event>
                    <div class="form-action-button">
                        <button type="button" mat-raised-button (click)="goToDashboard()" class="btnClose">
                            <i class="material-icons" title="Dashboard"> close </i>
                            Close
                        </button>
                        <button type="button" mat-raised-button color="warn" (click)="goToListing()"
                            *ngIf="dialogOpen == false">
                            <i class="material-icons" aria-hidden="true" title="Listing">list</i>
                            Listing
                        </button>
                    </div>
                </mat-tab>
            </mat-tab-group>
        </div>
    </div>
</div>